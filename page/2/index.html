<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.svg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"muleandhorse.icu","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
<meta property="og:type" content="website">
<meta property="og:title" content="Mule and Horse">
<meta property="og:url" content="http://muleandhorse.icu/page/2/index.html">
<meta property="og:site_name" content="Mule and Horse">
<meta property="og:description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="RickyD">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://muleandhorse.icu/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Mule and Horse</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Mule and Horse</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一个工地仔的救赎之路</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">67</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">2</span></a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">10</span></a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/16/b40%20v-model/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/16/b40%20v-model/" class="post-title-link" itemprop="url">vue的v-model</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-16 16:06:09" itemprop="dateCreated datePublished" datetime="2022-06-16T16:06:09+08:00">2022-06-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:05:03" itemprop="dateModified" datetime="2023-07-22T21:05:03+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="6-25-v-model"><a href="#6-25-v-model" class="headerlink" title="6-25 v-model"></a><strong>6-25 v-model</strong></h1><h2 id="1-v-model的基本使用"><a href="#1-v-model的基本使用" class="headerlink" title="1.v-model的基本使用"></a>1.v-model的基本使用</h2><h3 id="1-1-v-model的概念"><a href="#1-1-v-model的概念" class="headerlink" title="1.1 v-model的概念"></a><strong>1.1 v-model的概念</strong></h3><p>v-model指令可以在表单元素上创建<strong>双向数据绑定，</strong>（有很多人分不清楚响应式和双向数据绑定），它会根据控件的类型自动选取正确的方法来更新元素</p>
<p>v-model的本质只不过是语法糖，负责监听用户的输入来更新数据，并且在特殊场景下进行边界处理</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;input type=&quot;text&quot; :value=&quot;msg&quot; @input=&quot;inputChange&quot; /&gt;</span><br><span class="line">    &lt;h1&gt;&#123;&#123; msg &#125;&#125;h1&gt;</span><br><span class="line">  div&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;hello vue&#x27;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    inputChange(event) &#123;</span><br><span class="line">      this.msg = event.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;script&gt;</span><br></pre></td></tr></table></figure>

<p>上面的整个过程就是手动实现了双向绑定，第一：把msg作为input的value通过v-bind绑定上去；第二：当input变化时data中的msg也会变化这个就是双向绑定。vue有一个语法糖v-model能够帮助我们快速完成这种双向绑定。</p>
<p>使用v-model：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;info&quot; /&gt;</span><br><span class="line">&lt;h1&gt;&#123;&#123; info &#125;&#125;&lt;/h1&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="1-2-v-model的绑定原理"><a href="#1-2-v-model的绑定原理" class="headerlink" title="1.2 v-model的绑定原理"></a><strong>1.2 v-model的绑定原理</strong></h3><p>v-bind绑定value属性值</p>
<p>v-on绑定input事件，函数中会获取最新的值赋给绑定的变量</p>
<h2 id="2-v-model-绑定一些表单元素"><a href="#2-v-model-绑定一些表单元素" class="headerlink" title="2.v-model 绑定一些表单元素**"></a>2.v-model 绑定一些表单元素**</h2><h3 id="2-1-textarea"><a href="#2-1-textarea" class="headerlink" title="2.1 textarea"></a><strong>2.1 textarea</strong></h3><p>具体的输入的文本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;textarea v-model=&quot;msg&quot; cols=&quot;30&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">    &lt;p&gt;输入的内容:&#123;&#123; msg &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;&#x27;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    inputChange(event) &#123;</span><br><span class="line">      this.msg = event.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="2-2-v-model绑定checkbox"><a href="#2-2-v-model绑定checkbox" class="headerlink" title="2.2 v-model绑定checkbox"></a><strong>2.2 v-model绑定checkbox</strong></h3><p>单个勾选框和多个勾选框</p>
<p>单个：v-model绑定的是一个布尔值，而且此时的input的value属性不影响v-model的值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;isAgree&quot; /&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123; isAgree &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isAgree: &#x27;1231231&#x27;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>多个：会把选中的input的value放到v-model的数组中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;请选择你的爱好&lt;/h2&gt;</span><br><span class="line">    &lt;label for=&quot;sing&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; id=&quot;sing&quot; value=&quot;sing123123&quot; v-model=&quot;hobbies&quot; /&gt;唱</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label for=&quot;jump&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; id=&quot;jump&quot; value=&quot;jump&quot; v-model=&quot;hobbies&quot; /&gt;跳</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label for=&quot;rap&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; id=&quot;rap&quot; value=&quot;rap&quot; v-model=&quot;hobbies&quot; /&gt;rap</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;label for=&quot;basketball&quot;&gt;</span><br><span class="line">      &lt;input</span><br><span class="line">        type=&quot;checkbox&quot;</span><br><span class="line">        id=&quot;basketball&quot;</span><br><span class="line">        value=&quot;basketball&quot;</span><br><span class="line">        v-model=&quot;hobbies&quot;</span><br><span class="line">      /&gt;🏀</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; hobbies &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      hobbies: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-3-v-model绑定radio"><a href="#2-3-v-model绑定radio" class="headerlink" title="2.3 v-model绑定radio"></a><strong>2.3 v-model绑定radio</strong></h3><p>绑定的是选中的value的值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;gender&quot; value=&quot;male&quot; /&gt;男</span><br><span class="line">    &lt;input type=&quot;radio&quot; v-model=&quot;gender&quot; value=&quot;female&quot; /&gt;女</span><br><span class="line">    &lt;h2&gt;&#123;&#123; gender &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      gender: &#x27;&#x27;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-4-v-model绑定-select"><a href="#2-4-v-model绑定-select" class="headerlink" title="2.4 v-model绑定 select"></a><strong>2.4 v-model绑定 select</strong></h3><p>单个：v-model绑定对应选中的value值</p>
<p>多个：v-model把选中的多个放到数组中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;select v-model=&quot;fruit&quot;&gt;</span><br><span class="line">      &lt;option value=&quot;apple&quot;&gt;苹果&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;orange&quot;&gt;橘子&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;banana&quot;&gt;香蕉&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;h1&gt;单选：&#123;&#123; fruit &#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;select v-model=&quot;fruits&quot; multiple&gt;</span><br><span class="line">      &lt;option value=&quot;apple&quot;&gt;苹果&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;orange&quot;&gt;橘子&lt;/option&gt;</span><br><span class="line">      &lt;option value=&quot;banana&quot;&gt;香蕉&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;h1&gt;多选：&#123;&#123; fruits &#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      fruit: &#x27;banana&#x27;,</span><br><span class="line">      fruits: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-v-model的值绑定"><a href="#3-v-model的值绑定" class="headerlink" title="3.v-model的值绑定**"></a>3.v-model的值绑定**</h2><p>上面的例子中我们绑定的值都是template中固定的，真实开发中我们的数据大多数来自于服务器，我们一般先请求下来，然后绑定到data中的某个属性，再通过v-bind来进行绑定绑定-值绑定</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 水果用select --&gt;</span><br><span class="line">    &lt;select multiple v-model=&quot;fruits&quot;&gt;</span><br><span class="line">      &lt;option v-for=&quot;item in allFruits&quot; :key=&quot;item.value&quot; :value=&quot;item.value&quot;&gt;</span><br><span class="line">        &#123;&#123; item.text &#125;&#125;</span><br><span class="line">      &lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;h2&gt;水果:&#123;&#123; fruits &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;!-- 爱好用checkbox --&gt;</span><br><span class="line">    &lt;template v-for=&quot;item in allHobbies&quot; :key=&quot;item.value&quot;&gt;</span><br><span class="line">      &lt;label :for=&quot;item.value&quot;&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          :id=&quot;item.value&quot;</span><br><span class="line">          type=&quot;checkbox&quot;</span><br><span class="line">          v-model=&quot;hobbies&quot;</span><br><span class="line">          :value=&quot;item.value&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &#123;&#123; item.text &#125;&#125;</span><br><span class="line">      &lt;/label&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;爱好:&#123;&#123; hobbies &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      //用户选择的水果</span><br><span class="line">      fruits: [],</span><br><span class="line">      //水果</span><br><span class="line">      allFruits: [</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;apple&#x27;,</span><br><span class="line">          text: &#x27;苹果&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;orange&#x27;,</span><br><span class="line">          text: &#x27;橘子&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;banana&#x27;,</span><br><span class="line">          text: &#x27;香蕉&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      //用户选择的爱好</span><br><span class="line">      hobbies: [],</span><br><span class="line">      //爱好</span><br><span class="line">      allHobbies: [</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;sing&#x27;,</span><br><span class="line">          text: &#x27;唱&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;jump&#x27;,</span><br><span class="line">          text: &#x27;跳&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;rap&#x27;,</span><br><span class="line">          text: &#x27;rap&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;basketball&#x27;,</span><br><span class="line">          text: &#x27;篮球&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-v-model的修饰符"><a href="#4-v-model的修饰符" class="headerlink" title="4.v-model的修饰符"></a>4.<strong>v-model的修饰符</strong></h2><h3 id="4-1-lazy"><a href="#4-1-lazy" class="headerlink" title="4.1 lazy"></a><strong>4.1 lazy</strong></h3><p>默认双向绑定input的时候，绑定的是input事件，每次内容输入后就会将新的值和我们data中的属性同步</p>
<p>如果加上了lazy修饰符，那么会将绑定的事件和change同步，只有提交&#x2F;回车时才会触发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 水果用select --&gt;</span><br><span class="line">    &lt;select multiple v-model=&quot;fruits&quot;&gt;</span><br><span class="line">      &lt;option v-for=&quot;item in allFruits&quot; :key=&quot;item.value&quot; :value=&quot;item.value&quot;&gt;</span><br><span class="line">        &#123;&#123; item.text &#125;&#125;</span><br><span class="line">      &lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;h2&gt;水果:&#123;&#123; fruits &#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;!-- 爱好用checkbox --&gt;</span><br><span class="line">    &lt;template v-for=&quot;item in allHobbies&quot; :key=&quot;item.value&quot;&gt;</span><br><span class="line">      &lt;label :for=&quot;item.value&quot;&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          :id=&quot;item.value&quot;</span><br><span class="line">          type=&quot;checkbox&quot;</span><br><span class="line">          v-model=&quot;hobbies&quot;</span><br><span class="line">          :value=&quot;item.value&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">        &#123;&#123; item.text &#125;&#125;</span><br><span class="line">      &lt;/label&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;爱好:&#123;&#123; hobbies &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      //用户选择的水果</span><br><span class="line">      fruits: [],</span><br><span class="line">      //水果</span><br><span class="line">      allFruits: [</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;apple&#x27;,</span><br><span class="line">          text: &#x27;苹果&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;orange&#x27;,</span><br><span class="line">          text: &#x27;橘子&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;banana&#x27;,</span><br><span class="line">          text: &#x27;香蕉&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      //用户选择的爱好</span><br><span class="line">      hobbies: [],</span><br><span class="line">      //爱好</span><br><span class="line">      allHobbies: [</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;sing&#x27;,</span><br><span class="line">          text: &#x27;唱&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;jump&#x27;,</span><br><span class="line">          text: &#x27;跳&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;rap&#x27;,</span><br><span class="line">          text: &#x27;rap&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          value: &#x27;basketball&#x27;,</span><br><span class="line">          text: &#x27;篮球&#x27;,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-2-number"><a href="#4-2-number" class="headerlink" title="4.2 number"></a><strong>4.2 number</strong></h3><p>和type&#x3D;”number”效果一致</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model.number=&quot;counter&quot; /&gt;</span><br><span class="line">    &lt;h2&gt;counter:&#123;&#123; counter &#125;&#125;---&#123;&#123; typeof counter &#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type=&quot;number&quot; v-model=&quot;counter2&quot; /&gt;</span><br><span class="line">    &lt;h2&gt;counter2:&#123;&#123; counter2 &#125;&#125;---&#123;&#123; typeof counter2 &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      counter: 123,</span><br><span class="line">      counter2: 456,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-3-trim"><a href="#4-3-trim" class="headerlink" title="4.3 trim"></a><strong>4.3 trim</strong></h3><p>消除用户输入的空格</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 修饰符可以链式使用 --&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model.trim.lazy=&quot;msg&quot; /&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &#x27;&#x27;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="5-v-model的练习-和购物车要求一样"><a href="#5-v-model的练习-和购物车要求一样" class="headerlink" title="5.v-model的练习(和购物车要求一样)"></a>5.<strong>v-model的练习(和购物车要求一样)</strong></h2><h3 id="5-1-全选反选"><a href="#5-1-全选反选" class="headerlink" title="5.1 全选反选"></a><strong>5.1 全选反选</strong></h3><p>全选反选-computed实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;爱好&lt;/h2&gt;</span><br><span class="line">    全选&lt;input type=&quot;checkbox&quot; v-model=&quot;all&quot; /&gt;</span><br><span class="line">    &lt;!-- li中是每一个单选 --&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;item in hobbies&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; v-model=&quot;item.check&quot; /&gt;</span><br><span class="line">        &lt;span&gt;&#123;&#123; item.hobby &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; set &#125; from &#x27;lodash&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      hobbies: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;001&#x27;,</span><br><span class="line">          hobby: &#x27;篮球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;002&#x27;,</span><br><span class="line">          hobby: &#x27;棒球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;003&#x27;,</span><br><span class="line">          hobby: &#x27;羽毛球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;004&#x27;,</span><br><span class="line">          hobby: &#x27;乒乓球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  //计算属性</span><br><span class="line">  computed: &#123;</span><br><span class="line">    //简写不行，简写只有getter的情况，获取复杂计算的值</span><br><span class="line">    //所以我们要写完整写法</span><br><span class="line">    // all() &#123;&#125;,</span><br><span class="line">    all: &#123;</span><br><span class="line">      //获取</span><br><span class="line">      get() &#123;</span><br><span class="line">        // 下面几个单选的选中状态，check都为true才选中</span><br><span class="line">        return this.hobbies.every((item) =&gt; item.check === true);</span><br><span class="line">      &#125;,</span><br><span class="line">      //设置</span><br><span class="line">      set(value) &#123;</span><br><span class="line">        // 拿到全选的true/false 赋值给每个item的check</span><br><span class="line">        // console.log(value);</span><br><span class="line">        this.hobbies.forEach((ele) =&gt; (ele.check = value));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>全选反选-watch实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;爱好&lt;/h2&gt;</span><br><span class="line">    全选&lt;input type=&quot;checkbox&quot; v-model=&quot;all&quot; @change=&quot;changeAll&quot; /&gt;</span><br><span class="line">    &lt;!-- li中是每一个单选 --&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li v-for=&quot;item in hobbies&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;checkbox&quot; v-model=&quot;item.check&quot; /&gt;</span><br><span class="line">        &lt;span&gt;&#123;&#123; item.hobby &#125;&#125;&lt;/span&gt;</span><br><span class="line">      &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      all: false,</span><br><span class="line">      hobbies: [</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;001&#x27;,</span><br><span class="line">          hobby: &#x27;篮球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;002&#x27;,</span><br><span class="line">          hobby: &#x27;棒球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;003&#x27;,</span><br><span class="line">          hobby: &#x27;羽毛球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          id: &#x27;004&#x27;,</span><br><span class="line">          hobby: &#x27;乒乓球&#x27;,</span><br><span class="line">          check: false,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    changeAll() &#123;</span><br><span class="line">      this.hobbies.forEach((item) =&gt; (item.check = this.all));</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  //侦听器</span><br><span class="line">  watch: &#123;</span><br><span class="line">    //不能简写，我们要侦听的是数组中每个对象的check属性</span><br><span class="line">    hobbies: &#123;</span><br><span class="line">      //这里我们不需要newValue,oldValue</span><br><span class="line">      handler(newValue, oldValue) &#123;</span><br><span class="line">        this.all = this.hobbies.every((item) =&gt; item.check === true);</span><br><span class="line">      &#125;,</span><br><span class="line">      deep: true,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="5-2-购物车"><a href="#5-2-购物车" class="headerlink" title="5.2 购物车"></a><strong>5.2 购物车</strong></h3><p>data.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  list: [</span><br><span class="line">    &#123;</span><br><span class="line">      id: 625153951363,</span><br><span class="line">      //商品数量</span><br><span class="line">      number: 15,</span><br><span class="line">      //已购数量</span><br><span class="line">      buy_num: 1,</span><br><span class="line">      select: true,</span><br><span class="line">      name: &#x27;2020西太湖国际音乐节&#x27;,</span><br><span class="line">      showTime: &#x27;2020.09.19-09.20&#x27;,</span><br><span class="line">      price: &#x27;100&#x27;,</span><br><span class="line">      city: &#x27;常州&#x27;,</span><br><span class="line">      address: &#x27;常州西太湖中国花卉博览景区北门&#x27;,</span><br><span class="line">      pic: &#x27;https://img.alicdn.com/bao/uploaded/https://img.alicdn.com/imgextra/i3/2251059038/O1CN01zJEpaN2GdSG1Xvo8y_!!2251059038.jpg&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: 624506842658,</span><br><span class="line">      number: 10,</span><br><span class="line">      buy_num: 3,</span><br><span class="line">      select: false,</span><br><span class="line">      name: &#x27;2020舟山东海音乐节&#x27;,</span><br><span class="line">      showTime: &#x27;2020.09.04-09.06&#x27;,</span><br><span class="line">      price: &#x27;200&#x27;,</span><br><span class="line">      city: &#x27;舟山&#x27;,</span><br><span class="line">      address: &#x27;舟山市朱家尖南沙景区沙滩&#x27;,</span><br><span class="line">      pic: &#x27;https://img.alicdn.com/bao/uploaded/i4/2251059038/O1CN01L70FVl2GdSG2wpwyE_!!0-item_pic.jpg&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: 623216520608,</span><br><span class="line">      number: 8,</span><br><span class="line">      buy_num: 2,</span><br><span class="line">      select: false,</span><br><span class="line">      name: &#x27;中国•磐安 2020氧气山水音乐节&#x27;,</span><br><span class="line">      showTime: &#x27;2020.08.22 周六 16:30&#x27;,</span><br><span class="line">      price: &#x27;300&#x27;,</span><br><span class="line">      city: &#x27;金华&#x27;,</span><br><span class="line">      address: &#x27;金华磐安花溪风景区&#x27;,</span><br><span class="line">      pic: &#x27;https://img.alicdn.com/bao/uploaded/https://img.alicdn.com/imgextra/i3/2251059038/O1CN01ECp69h2GdSFpoUPAm_!!2251059038.jpg&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: 624345993344,</span><br><span class="line">      number: 13,</span><br><span class="line">      buy_num: 2,</span><br><span class="line">      select: false,</span><br><span class="line">      name: &#x27;2020“一生中最爱”七夕演唱会&#x27;,</span><br><span class="line">      showTime: &#x27;2020.08.25 周二 19:30&#x27;,</span><br><span class="line">      price: &#x27;400&#x27;,</span><br><span class="line">      city: &#x27;北京&#x27;,</span><br><span class="line">      address: &#x27;糖果TANGO-雍和宫店三层&#x27;,</span><br><span class="line">      pic: &#x27;https://img.alicdn.com/bao/uploaded/i3/2251059038/O1CN01WGNYBE2GdSFqXJgII_!!0-item_pic.jpg&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      id: 624170605605,</span><br><span class="line">      number: 5,</span><br><span class="line">      buy_num: 1,</span><br><span class="line">      select: true,</span><br><span class="line">      name: &#x27;东海五渔节之敢潮音乐节&#x27;,</span><br><span class="line">      showTime: &#x27;2020.08.22 周六 18:00&#x27;,</span><br><span class="line">      price: &#x27;500&#x27;,</span><br><span class="line">      city: &#x27;舟山&#x27;,</span><br><span class="line">      address: &#x27;舟山嵊泗五龙乡听海广场(原黄沙村船厂)&#x27;,</span><br><span class="line">      pic: &#x27;https://img.alicdn.com/bao/uploaded/https://img.alicdn.com/imgextra/i1/2251059038/O1CN01eV5pR32GdSFxJUb0v_!!2251059038.jpg&#x27;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;header&quot;&gt;网页头部&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;content&quot;&gt;</span><br><span class="line">      &lt;!-- 用vue的语法渲染 --&gt;</span><br><span class="line">      &lt;div class=&quot;top&quot;&gt;&lt;input type=&quot;checkbox&quot; v-model=&quot;allCheck&quot; /&gt; 全选&lt;/div&gt;</span><br><span class="line">      &lt;ul class=&quot;center&quot;&gt;</span><br><span class="line">        &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;select&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;item.select&quot; /&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;pic&quot;&gt;</span><br><span class="line">            &lt;img :src=&quot;item.pic&quot; alt=&quot;&quot; /&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;name&quot;&gt;&#123;&#123; item.name &#125;&#125;&lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;price&quot;&gt;</span><br><span class="line">            ￥ &lt;span&gt;&#123;&#123; formateMoney(item.price) &#125;&#125;&lt;/span&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;number&quot;&gt;</span><br><span class="line">            &lt;button @click=&quot;sub(item.id)&quot; :disabled=&quot;item.buy_num &lt;= 1&quot;&gt;</span><br><span class="line">              -</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; v-model=&quot;item.buy_num&quot; /&gt;</span><br><span class="line">            &lt;button</span><br><span class="line">              @click=&quot;add(item.id)&quot;</span><br><span class="line">              :disabled=&quot;item.buy_num &gt;= item.number&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              +</span><br><span class="line">            &lt;/button&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;subtotal&quot;&gt;</span><br><span class="line">            ￥ &lt;span&gt;&#123;&#123; formateMoney(subtotal(item.id)) &#125;&#125;&lt;/span&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;del&quot;&gt;</span><br><span class="line">            &lt;button @click=&quot;del(item.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;div class=&quot;bottom&quot;&gt;</span><br><span class="line">        &lt;p&gt;总购买数量: &#123;&#123; totalNum &#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">          &lt;button class=&quot;pay&quot; @click=&quot;pay(totalPrice)&quot;&gt;去结算&lt;/button&gt;</span><br><span class="line">          &lt;button class=&quot;clear&quot; @click=&quot;delAll&quot;&gt;清空购物车&lt;/button&gt;</span><br><span class="line">          &lt;button class=&quot;clear_select&quot; @click=&quot;delSelected&quot;&gt;</span><br><span class="line">            删除所有已选中</span><br><span class="line">          &lt;/button&gt;</span><br><span class="line">          &lt;button class=&quot;list&quot;&gt;返回列表页&lt;/button&gt;</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">          总价格 : ￥ &lt;span&gt;&#123;&#123; formateMoney(totalPrice) &#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;footer&quot;&gt;网页底部&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入数据</span><br><span class="line">import mock from &#x27;./data&#x27;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: mock.list,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    //删除已选</span><br><span class="line">    delSelected() &#123;</span><br><span class="line">      this.list = this.list.filter((item) =&gt; !item.select);</span><br><span class="line">      // this.list = this.list.filter((item) =&gt; item.select === false);</span><br><span class="line">    &#125;,</span><br><span class="line">    //清空</span><br><span class="line">    delAll() &#123;</span><br><span class="line">      this.list = [];</span><br><span class="line">    &#125;,</span><br><span class="line">    //去结算</span><br><span class="line">    pay(money) &#123;</span><br><span class="line">      console.log(&#x27;总价：&#x27;, money);</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除</span><br><span class="line">    del(id) &#123;</span><br><span class="line">      // this.list = this.list.filter((item) =&gt; item.id !== id);</span><br><span class="line">      //方法二</span><br><span class="line">      const index = this.list.findIndex((item) =&gt; item.id === id);</span><br><span class="line">      this.list.splice(index, 1);</span><br><span class="line">    &#125;,</span><br><span class="line">    //减</span><br><span class="line">    sub(id) &#123;</span><br><span class="line">      const good = this.list.find((ele) =&gt; ele.id === id);</span><br><span class="line">      good.buy_num--;</span><br><span class="line">    &#125;,</span><br><span class="line">    //加</span><br><span class="line">    add(id) &#123;</span><br><span class="line">      const good = this.list.find((ele) =&gt; ele.id === id);</span><br><span class="line">      good.buy_num++;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  //计算属性</span><br><span class="line">  computed: &#123;</span><br><span class="line">    //全选</span><br><span class="line">    allCheck: &#123;</span><br><span class="line">      get() &#123;</span><br><span class="line">        if (!!this.list.length) &#123;</span><br><span class="line">          // return this.list.every((item) =&gt; item.select === true);</span><br><span class="line">          return this.list.every((item) =&gt; item.select);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      set(val) &#123;</span><br><span class="line">        this.list.forEach((item) =&gt; (item.select = val));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    //格式化金钱</span><br><span class="line">    formateMoney() &#123;</span><br><span class="line">      //计算属性传递参数</span><br><span class="line">      return (money) =&gt; &#123;</span><br><span class="line">        return (money - 0).toFixed(2);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    //单个商品的小记</span><br><span class="line">    subtotal() &#123;</span><br><span class="line">      return (id) =&gt; &#123;</span><br><span class="line">        const good = this.list.find((ele) =&gt; ele.id === id);</span><br><span class="line">        return good.price * good.buy_num;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    //总数量和总价格都应该是选中的才参与计算</span><br><span class="line">    //总数量</span><br><span class="line">    totalNum() &#123;</span><br><span class="line">      return this.list.reduce((prev, item) =&gt; &#123;</span><br><span class="line">        return item.select ? prev + item.buy_num : prev;</span><br><span class="line">      &#125;, 0);</span><br><span class="line">    &#125;,</span><br><span class="line">    //总价格</span><br><span class="line">    totalPrice() &#123;</span><br><span class="line">      return this.list.reduce((prev, item) =&gt; &#123;</span><br><span class="line">        return item.select ? prev + item.buy_num * item.price : prev;</span><br><span class="line">      &#125;, 0);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">* &#123;</span><br><span class="line">  margin: 0;</span><br><span class="line">  padding: 0;</span><br><span class="line">  list-style: none;</span><br><span class="line">  text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line">button,</span><br><span class="line">input &#123;</span><br><span class="line">  outline: none;</span><br><span class="line">  border: none;</span><br><span class="line">&#125;</span><br><span class="line">img &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  display: block;</span><br><span class="line">&#125;</span><br><span class="line">.header,</span><br><span class="line">.footer &#123;</span><br><span class="line">  width: 1200px;</span><br><span class="line">  height: 80px;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">  color: #fff;</span><br><span class="line">  font-size: 30px;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.footer &#123;</span><br><span class="line">  height: 300px;</span><br><span class="line">  font-size: 100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content &#123;</span><br><span class="line">  width: 1200px;</span><br><span class="line">  padding: 10px 0;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  display: flex;</span><br><span class="line">  flex-direction: column;</span><br><span class="line">&#125;</span><br><span class="line">.content .top,</span><br><span class="line">.content .bottom &#123;</span><br><span class="line">  height: 40px;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  background-color: pink;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .top &gt; input &#123;</span><br><span class="line">  width: 20px;</span><br><span class="line">  height: 20px;</span><br><span class="line">  margin: 0 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .bottom &#123;</span><br><span class="line">  justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .bottom &gt; p button &#123;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">  padding: 3px 10px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  color: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .bottom &gt; p &gt; button.pay &#123;</span><br><span class="line">  background-color: green;</span><br><span class="line">&#125;</span><br><span class="line">.content .bottom &gt; p &gt; button.clear &#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br><span class="line">.content .bottom &gt; p &gt; button.clear_select &#123;</span><br><span class="line">  background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">.content .bottom &gt; p &gt; button.list &#123;</span><br><span class="line">  background-color: skyblue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .bottom &gt; p &gt; span &#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .center &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">.content .center &gt; li &#123;</span><br><span class="line">  height: 100px;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: space-between;</span><br><span class="line">  align-items: center;</span><br><span class="line">  border: 1px solid #333;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  margin: 10px 0;</span><br><span class="line">  border-radius: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .center &gt; li &gt; div &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .center &gt; li &gt; div &gt; span &#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.content .center &gt; li &gt; div:first-child &gt; input &#123;</span><br><span class="line">  width: 20px;</span><br><span class="line">  height: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.content .center &gt; li &gt; div &gt; button &#123;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">  padding: 5px 10px;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.content .center &gt; li &gt; div &gt; .del &gt; button &#123;</span><br><span class="line">  background-color: red;</span><br><span class="line">  color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">.content .center &gt; li &gt; div.number &gt; input &#123;</span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 24px;</span><br><span class="line">  font-size: 20px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.select,</span><br><span class="line">.pic,</span><br><span class="line">.del &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">&#125;</span><br><span class="line">.name,</span><br><span class="line">.price,</span><br><span class="line">.subtotal &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">&#125;</span><br><span class="line">.number &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="5-3-表格"><a href="#5-3-表格" class="headerlink" title="5.3 表格"></a><strong>5.3 表格</strong></h3><p>生成唯一id使用uuid库:<code>npm install uuid</code></p>
<p>使用的话就自己看看npm的文档</p>
<p>data.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">info</span>: [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;胡杭&#x27;</span>, <span class="attr">age</span>: <span class="number">16</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;胜明&#x27;</span>, <span class="attr">age</span>: <span class="number">22</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;军毅&#x27;</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;晓华&#x27;</span>, <span class="attr">age</span>: <span class="number">13</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;盛聪&#x27;</span>, <span class="attr">age</span>: <span class="number">23</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;侦剑&#x27;</span>, <span class="attr">age</span>: <span class="number">32</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;红翔&#x27;</span>, <span class="attr">age</span>: <span class="number">25</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;超维&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;士琪&#x27;</span>, <span class="attr">age</span>: <span class="number">22</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;艳华&#x27;</span>, <span class="attr">age</span>: <span class="number">20</span> &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;button class=&quot;add&quot; @click=&quot;add&quot; :disabled=&quot;count &gt;= 10&quot;&gt;添加&lt;/button&gt;</span><br><span class="line">    &lt;button class=&quot;sort&quot; @click=&quot;sort&quot;&gt;从小到大&lt;/button&gt;</span><br><span class="line">    &lt;button class=&quot;del&quot; @click=&quot;delSelect&quot;&gt;删除选中&lt;/button&gt;</span><br><span class="line">    &lt;table border=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;20&quot;&gt;</span><br><span class="line">      &lt;thead&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">          &lt;th&gt;序列号&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;年龄&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">          &lt;th&gt;选择&lt;/th&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">      &lt;/thead&gt;</span><br><span class="line">      &lt;tbody&gt;</span><br><span class="line">        &lt;tr v-for=&quot;item in data&quot; :key=&quot;item.id&quot;&gt;</span><br><span class="line">          &lt;td&gt;&#123;&#123; item.index &#125;&#125;&lt;/td&gt;</span><br><span class="line">          &lt;td&gt;&#123;&#123; item.name &#125;&#125;&lt;/td&gt;</span><br><span class="line">          &lt;td&gt;&#123;&#123; item.age &#125;&#125;&lt;/td&gt;</span><br><span class="line">          &lt;td&gt;</span><br><span class="line">            &lt;button class=&quot;delOne&quot; @click=&quot;del(item.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">          &lt;/td&gt;</span><br><span class="line">          &lt;td&gt;&lt;input type=&quot;checkbox&quot; v-model=&quot;item.select&quot; /&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">      &lt;/tbody&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入uuid</span><br><span class="line">import &#123; v4 as uuidv4 &#125; from &#x27;uuid&#x27;;</span><br><span class="line">import mock from &#x27;./data&#x27;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      //添加了多少个的计数</span><br><span class="line">      count: 0,</span><br><span class="line">      info: [],</span><br><span class="line">      //真正操作的数组</span><br><span class="line">      data: [],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    //添加</span><br><span class="line">    add() &#123;</span><br><span class="line">      this.data.push(this.info[this.count]);</span><br><span class="line">      this.count++;</span><br><span class="line">    &#125;,</span><br><span class="line">    sort() &#123;</span><br><span class="line">      this.data.sort((a, b) =&gt; &#123;</span><br><span class="line">        return a.age - b.age;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    del(id) &#123;</span><br><span class="line">      this.data = this.data.filter((item) =&gt; item.id !== id);</span><br><span class="line">    &#125;,</span><br><span class="line">    delSelect() &#123;</span><br><span class="line">      this.data = this.data.filter((ele) =&gt; !ele.select);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  //请求数据，并且将请求的数据做一定的处理</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.info = mock.info.map((item, index) =&gt; &#123;</span><br><span class="line">      item.select = false;</span><br><span class="line">      item.index = index + 1;</span><br><span class="line">      item.id = uuidv4();</span><br><span class="line">      return item;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/14/b39%20Vue%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95(%E4%B8%89)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/14/b39%20Vue%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95(%E4%B8%89)/" class="post-title-link" itemprop="url">vue基础语法(三)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-14 16:06:09" itemprop="dateCreated datePublished" datetime="2022-06-14T16:06:09+08:00">2022-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:04:27" itemprop="dateModified" datetime="2023-07-22T21:04:27+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="6-21-Vue基础-Options-API"><a href="#6-21-Vue基础-Options-API" class="headerlink" title="6-21 Vue基础-Options API"></a><strong>6-21 Vue基础-Options API</strong></h1><p>如果是多对一就用computed，如果是一对多就用watch。</p>
<p>往往在实际开发中，我们的数据不是直接展示，而是需要经过一定的处理。或者是把多个数据结合起来展示。在模版中，我们如果需要计算多个data，可以使用简单的js表达式，三元运算符。但是模版设计的初衷，是用于简单的数据展示。如果数据处理全部丢在模版里面，整个模版就会显得笨重和难以维护。</p>
<h2 id="1-计算属性computed"><a href="#1-计算属性computed" class="headerlink" title="1.计算属性computed"></a>1.<strong>计算属性computed</strong></h2><h3 id="1-1-计算属性的概念"><a href="#1-1-计算属性的概念" class="headerlink" title="1.1 计算属性的概念"></a><strong>1.1 计算属性的概念</strong></h3><p>对于任何包含响应式数据的<strong>复杂逻辑</strong>，你都应该使用<strong>计算属性</strong>；</p>
<p>计算属性将被混入到组件的实例中，也就说所有的getter，setter中的this都将自动绑定this为组件的实例</p>
<h3 id="1-2-用法"><a href="#1-2-用法" class="headerlink" title="1.2 用法"></a><strong>1.2 用法</strong></h3><p>选项：computed</p>
<p>类型：{[key:string]:Function|{get:Function,set:Function}}</p>
<h3 id="1-3-案例"><a href="#1-3-案例" class="headerlink" title="1.3 案例"></a><strong>1.3 案例</strong></h3><p>案例1：有两个变量firstName，lastName,希望把他们拼接以后在页面上显示</p>
<p>案例2:有一个分数变量score，&gt;60显示及格，小于60显示为alex</p>
<p>案例3:有一个字符串msg，比如hello world，某些情况下反转显示，某些情况下直接显示</p>
<h4 id="1-3-1-思路一-直接在模版中书写"><a href="#1-3-1-思路一-直接在模版中书写" class="headerlink" title="1.3.1 思路一 直接在模版中书写"></a><strong>1.3.1 思路一 直接在模版中书写</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 1.拼接名字 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;firstName+&quot;~&quot;+lastName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 2.分数 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;score&gt;=60?&#x27;及格&#x27;:&#x27;alex&#x27;&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 3.反转显示 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;msg.split(&quot; &quot;).reverse().join(&quot; &quot;)&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        //1.姓名</span><br><span class="line">        firstName: &#x27;alex&#x27;,</span><br><span class="line">        lastName: &#x27;小肥君&#x27;,</span><br><span class="line">        //2.分数 及格/alex</span><br><span class="line">        score: 80,</span><br><span class="line">        //3.一串文本</span><br><span class="line">        msg: &#x27;my name is 天河阔少&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>缺点：</p>
<ol>
<li><p>模版中存在大量的复杂逻辑，不便于维护</p>
</li>
<li><p>当有多次同样的逻辑，存在大量重复代码 违背了dry(don’t repeat yourself)原则</p>
</li>
<li><p>多次使用的时候，很多运算多次执行</p>
</li>
</ol>
<h4 id="1-3-2-使用method"><a href="#1-3-2-使用method" class="headerlink" title="1.3.2 使用method"></a><strong>1.3.2 使用method</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 1.拼接名字 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 2.分数 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;getScoreLevel()&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 3.反转显示 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fzMsg()&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        //1.姓名</span><br><span class="line">        firstName: &#x27;alex&#x27;,</span><br><span class="line">        lastName: &#x27;小肥君&#x27;,</span><br><span class="line">        //2.分数 及格/alex</span><br><span class="line">        score: 80,</span><br><span class="line">        //3.一串文本</span><br><span class="line">        msg: &#x27;my name is 天河阔少&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      getFullName() &#123;</span><br><span class="line">        return this.firstName + &#x27;~&#x27; + this.lastName;</span><br><span class="line">      &#125;,</span><br><span class="line">      getScoreLevel() &#123;</span><br><span class="line">        return this.score &gt;= 60 ? &#x27;及格&#x27; : &#x27;alex&#x27;;</span><br><span class="line">      &#125;,</span><br><span class="line">      fzMsg() &#123;</span><br><span class="line">        return this.msg.split(&#x27; &#x27;).reverse().join(&#x27; &#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>



<ol>
<li><p>我们本质上是要显示一个结果，但是变成了一个个的函数调用</p>
</li>
<li><p>多次同样的函数调用，也需要多次计算</p>
</li>
</ol>
<h4 id="1-3-3-使用计算属性"><a href="#1-3-3-使用计算属性" class="headerlink" title="1.3.3 使用计算属性"></a><strong>1.3.3 使用计算属性</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 计算属性的使用和函数很相似 --&gt;</span><br><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 1.拼接名字 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 2.分数 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;scoreLevel&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 3.反转显示 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fz&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        //1.姓名</span><br><span class="line">        firstName: &#x27;alex&#x27;,</span><br><span class="line">        lastName: &#x27;小肥君&#x27;,</span><br><span class="line">        //2.分数 及格/alex</span><br><span class="line">        score: 80,</span><br><span class="line">        //3.一串文本</span><br><span class="line">        msg: &#x27;my name is 天河阔少&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      //计算属性默认对应的是一个函数</span><br><span class="line">      fullName() &#123;</span><br><span class="line">        return this.firstName + &#x27;~&#x27; + this.lastName;</span><br><span class="line">      &#125;,</span><br><span class="line">      scoreLevel() &#123;</span><br><span class="line">        return this.score &gt;= 60 ? &#x27;及格&#x27; : &#x27;alex&#x27;;</span><br><span class="line">      &#125;,</span><br><span class="line">      fz() &#123;</span><br><span class="line">        return this.msg.split(&#x27; &#x27;).reverse().join(&#x27; &#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>计算属性有缓存</p>
<h3 id="1-4-计算属性和method区别"><a href="#1-4-计算属性和method区别" class="headerlink" title="1.4 计算属性和method区别"></a><strong>1.4 计算属性和method区别</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 1.计算属性--&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 2.method --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 修改 --&gt;</span><br><span class="line">  &lt;button @click=&quot;edit&quot;&gt;修改&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        //1.姓名</span><br><span class="line">        firstName: &#x27;alex&#x27;,</span><br><span class="line">        lastName: &#x27;小肥君&#x27;,</span><br><span class="line">        //2.分数 及格/alex</span><br><span class="line">        score: 80,</span><br><span class="line">        //3.一串文本</span><br><span class="line">        msg: &#x27;my name is 天河阔少&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      getFullName() &#123;</span><br><span class="line">        console.log(&#x27;method被调用～～～&#x27;);</span><br><span class="line">        return this.firstName + &#x27;~&#x27; + this.lastName;</span><br><span class="line">      &#125;,</span><br><span class="line">      edit() &#123;</span><br><span class="line">        this.lastName = &#x27;天河阔少&#x27;;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      //计算属性默认对应的是一个函数</span><br><span class="line">      fullName() &#123;</span><br><span class="line">        console.log(&#x27;computed被调用～～～&#x27;);</span><br><span class="line">        return this.firstName + &#x27;~&#x27; + this.lastName;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们发现，不管是第一次展示，还是修改，计算属性始终只会调用一次，而method会调用多次，因为计算属性有缓存</p>
<h3 id="1-5-计算属性的缓存"><a href="#1-5-计算属性的缓存" class="headerlink" title="1.5 计算属性的缓存"></a><strong>1.5 计算属性的缓存</strong></h3><p>计算属性会基于他们的<strong>依赖关系</strong>进行缓存，在依赖不变的情况下，计算属性是不会重新计算的，如果依赖的数据发生变化，在使用时，计算属性会重新计算一遍。</p>
<h3 id="1-6-计算属性的getter和setter"><a href="#1-6-计算属性的getter和setter" class="headerlink" title="1.6 计算属性的getter和setter"></a><strong>1.6 计算属性的getter和setter</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 计算属性--&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- 修改 --&gt;</span><br><span class="line">  &lt;button @click=&quot;edit&quot;&gt;修改&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        //1.姓名</span><br><span class="line">        firstName: &#x27;alex&#x27;,</span><br><span class="line">        lastName: &#x27;小肥君&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      edit() &#123;</span><br><span class="line">        this.lastName = &#x27;天河阔少&#x27;;</span><br><span class="line">        // this.fullName = &#x27;天河 阔少&#x27;;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">      //大多数情况下，我们的计算属性都只是需要一个计算的结果，所以可以简写</span><br><span class="line">      // fullName() &#123;</span><br><span class="line">      //   console.log(&#x27;computed被调用～～～&#x27;);</span><br><span class="line">      //   return this.firstName + &#x27;~&#x27; + this.lastName;</span><br><span class="line">      // &#125;,</span><br><span class="line">      //完整的写法</span><br><span class="line">      fullName: &#123;</span><br><span class="line">        get() &#123;</span><br><span class="line">          return ###.firstName + &#x27;~&#x27; + this.lastName;</span><br><span class="line">        &#125;,</span><br><span class="line">        set(value) &#123;</span><br><span class="line">          //直接修改依赖不会走set</span><br><span class="line">          //必须修改 fullName 才会走set</span><br><span class="line">          // console.log(123);</span><br><span class="line">          //value就是新值</span><br><span class="line">          console.log(value);</span><br><span class="line">          const names = value.split(&#x27; &#x27;);</span><br><span class="line">          // 修改依赖，让视图更新</span><br><span class="line">          this.firstName = names[0];</span><br><span class="line">          this.lastName = names[1];</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-7-源码的处理"><a href="#1-7-源码的处理" class="headerlink" title="1.7 源码的处理"></a><strong>1.7 源码的处理</strong></h3><p>vue怎么知道我写的是一个函数还是一个对象中的get&#x2F;set，实际上vue的处理非常的简单，就是做一个判断</p>
<p><img src="https://docimg4.docs.qq.com/image/AgAABlP525zHMX3_vStJtpi8-Mnf7dYj.png?w=1129&h=541" alt="img"></p>
<h2 id="2-侦听器watch"><a href="#2-侦听器watch" class="headerlink" title="2. 侦听器watch"></a>2. <strong>侦听器watch</strong></h2><h3 id="2-1-watch的概念"><a href="#2-1-watch的概念" class="headerlink" title="2.1 watch的概念"></a><strong>2.1 watch的概念</strong></h3><p>某些时候我们希望在代码中监听某个数据的变化，然后根据这个变化自动的去完成一些事，这个时候就要用到watch</p>
<h3 id="2-2-watch的用法"><a href="#2-2-watch的用法" class="headerlink" title="2.2 watch的用法"></a><strong>2.2 watch的用法</strong></h3><p>​	选项：watch</p>
<p>​	类型：{[key:string]:string|Function|Object|Array }</p>
<h3 id="2-3-侦听器案例"><a href="#2-3-侦听器案例" class="headerlink" title="2.3 侦听器案例"></a><strong>2.3 侦听器案例</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeMsg&quot;&gt;修改msg&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        msg: &#x27;你好啊，alex～&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeMsg() &#123;</span><br><span class="line">        this.msg = this.msg + &#x27;小肥君&#x27;;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    //watch侦听器</span><br><span class="line">    watch: &#123;</span><br><span class="line">      //有两个参数，newValue,oldValue</span><br><span class="line">      //newValue是改变后的值，oldValue是改变前的值</span><br><span class="line">      msg(newValue, oldValue) &#123;</span><br><span class="line">        console.log(&#x27;改变了&#x27;);</span><br><span class="line">        console.log(newValue, oldValue);</span><br><span class="line">        console.log(&#x27;---------------&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;info&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeMsg&quot;&gt;修改msg&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        msg: &#x27;你好啊，alex～&#x27;,</span><br><span class="line">        info: &#123;</span><br><span class="line">          name: &#x27;alex&#x27;,</span><br><span class="line">          age: 18,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeMsg() &#123;</span><br><span class="line">        this.msg = this.msg + &#x27;小肥君&#x27;;</span><br><span class="line">        this.info = &#123; name: &#x27;alex&#x27;, age: 99 &#125;;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    //watch侦听器</span><br><span class="line">    watch: &#123;</span><br><span class="line">      //有两个参数，newValue,oldValue</span><br><span class="line">      //简单数据类型</span><br><span class="line">      msg(newValue, oldValue) &#123;</span><br><span class="line">        console.log(&#x27;改变了&#x27;);</span><br><span class="line">        console.log(newValue, oldValue);</span><br><span class="line">        console.log(&#x27;---------------&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">      //对象数据类型，拿到的是代理对象proxy</span><br><span class="line">      info(newValue, oldValue) &#123;</span><br><span class="line">        console.log(&#x27;info:&#x27;, newValue);</span><br><span class="line">        // console.log(newValue.name, oldValue.age);</span><br><span class="line">        //如果我非要拿到原来的对象</span><br><span class="line">        console.log(&#123; ...newValue &#125;);</span><br><span class="line">        console.log(Vue.toRaw(newValue));</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="2-4-watch的配置选项"><a href="#2-4-watch的配置选项" class="headerlink" title="2.4 watch的配置选项"></a><strong>2.4 watch的配置选项</strong></h3><p>​	deep:true 深层次监听</p>
<p>​	immediate 不管监听的数据是否变化立即执行监听函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;info&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改info&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        info: &#123;</span><br><span class="line">          name: &#x27;alex&#x27;,</span><br><span class="line">          age: 18,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeInfo() &#123;</span><br><span class="line">        this.info.age = 99;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    //watch侦听器</span><br><span class="line">    watch: &#123;</span><br><span class="line">      // //默认watch监听不能监听到深层次的变化</span><br><span class="line">      // info() &#123;</span><br><span class="line">      //   console.log(&#x27;info变化了～～～&#x27;);</span><br><span class="line">      // &#125;,</span><br><span class="line">      //完整写法</span><br><span class="line">      info: &#123;</span><br><span class="line">        //监听到数据变化以后，你要做的事</span><br><span class="line">        //拿到的是同一个代理对象</span><br><span class="line">        handler(newValue, oldValue) &#123;</span><br><span class="line">          //一上来newValue有值</span><br><span class="line">          //oldValue为undefined</span><br><span class="line">          console.log(&#x27;info变化了&#x27;, newValue, oldValue);</span><br><span class="line">          console.log(newValue === oldValue);</span><br><span class="line">        &#125;,</span><br><span class="line">        //开启深度的监听</span><br><span class="line">        deep: true,</span><br><span class="line">        //立即监听</span><br><span class="line">        immediate: true,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-5-侦听器的其他写法"><a href="#2-5-侦听器的其他写法" class="headerlink" title="2.5 侦听器的其他写法"></a><strong>2.5 侦听器的其他写法</strong></h3><p>Vue3的文档中没写，但是vue2的文档中写了的方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;info&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改info&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        info: &#123;</span><br><span class="line">          name: &#x27;alex&#x27;,</span><br><span class="line">          age: 18,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeInfo() &#123;</span><br><span class="line">        this.info.age = 99;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    //watch侦听器</span><br><span class="line">    watch: &#123;</span><br><span class="line">      &#x27;info.age&#x27;: function (newValue, oldValue) &#123;</span><br><span class="line">        console.log(&#x27;info的age发生变化&#x27;, newValue, oldValue);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这样也可以监听到info中age的变化，但是只能监听到age的变化，其他属性的变化就无法监听</p>
<p>还有一种方式$watch的api</p>
<p>在created生命周期中使用this.$watch来监听</p>
<p>​	第一个参数是要侦听的源</p>
<p>​	第二个参数是侦听的回调函数callback</p>
<p>​	第三个参数是侦听时额外的其他选项比如：deep，immediate</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;info&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;changeInfo&quot;&gt;修改info&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        info: &#123;</span><br><span class="line">          name: &#x27;alex&#x27;,</span><br><span class="line">          age: 18,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeInfo() &#123;</span><br><span class="line">        this.info.age = 99;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    //使用$watch</span><br><span class="line">    created() &#123;</span><br><span class="line">      // console.log(123);</span><br><span class="line">      this.$watch(</span><br><span class="line">        &#x27;info&#x27;,</span><br><span class="line">        (newValue, oldValue) =&gt; &#123;</span><br><span class="line">          console.log(newValue, oldValue);</span><br><span class="line">          console.log(this);</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          deep: true,</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-练习"><a href="#3-练习" class="headerlink" title="3.练习"></a>3.<strong>练习</strong></h2><h3 id="3-1-列表选中"><a href="#3-1-列表选中" class="headerlink" title="3.1 列表选中"></a><strong>3.1 列表选中</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li</span><br><span class="line">      :class=&quot;&#123;active:index===currentIndex&#125;&quot;</span><br><span class="line">      v-for=&quot;(movie,index) in movies&quot;</span><br><span class="line">      @click=&quot;liClick(index)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &#123;&#123;movie&#125;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        movies: [&#x27;蜘蛛侠&#x27;, &#x27;GGbond&#x27;, &#x27;闪电侠&#x27;, &#x27;钢铁侠&#x27;],</span><br><span class="line">        currentIndex: 1,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      liClick(index) &#123;</span><br><span class="line">        this.currentIndex = index;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-2-购物车🛒"><a href="#3-2-购物车🛒" class="headerlink" title="3.2 购物车🛒"></a><strong>3.2 购物车🛒</strong></h3><p>（能够不看我的代码从头到尾自己实现）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">      table &#123;</span><br><span class="line">        border-collapse: collapse;</span><br><span class="line">      &#125;</span><br><span class="line">      thead &#123;</span><br><span class="line">        background-color: #f6f6f6;</span><br><span class="line">      &#125;</span><br><span class="line">      th,</span><br><span class="line">      td &#123;</span><br><span class="line">        border: 1px solid aqua;</span><br><span class="line">      &#125;</span><br><span class="line">      .active &#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">      &lt;template v-if=&quot;books.length&quot;&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">          &lt;thead&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">              &lt;th&gt;序号&lt;/th&gt;</span><br><span class="line">              &lt;th&gt;书籍名称&lt;/th&gt;</span><br><span class="line">              &lt;th&gt;出版日期&lt;/th&gt;</span><br><span class="line">              &lt;th&gt;价格&lt;/th&gt;</span><br><span class="line">              &lt;th&gt;购买数量&lt;/th&gt;</span><br><span class="line">              &lt;th&gt;操作&lt;/th&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">          &lt;/thead&gt;</span><br><span class="line">          &lt;tbody&gt;</span><br><span class="line">            &lt;tr</span><br><span class="line">              :class=&quot;&#123;active:index===currentIndex&#125;&quot;</span><br><span class="line">              @click=&quot;rowClick(index)&quot;</span><br><span class="line">              v-for=&quot;(item,index) in books&quot;</span><br><span class="line">              :key=&quot;item.id&quot;</span><br><span class="line">            &gt;</span><br><span class="line">              &lt;td&gt;&#123;&#123;index+1&#125;&#125;&lt;/td&gt;</span><br><span class="line">              &lt;td&gt;&#123;&#123;item.name&#125;&#125;&lt;/td&gt;</span><br><span class="line">              &lt;td&gt;&#123;&#123;item.date&#125;&#125;&lt;/td&gt;</span><br><span class="line">              &lt;td&gt;&#123;&#123;formateMoney(item.price)&#125;&#125;&lt;/td&gt;</span><br><span class="line">              &lt;td&gt;</span><br><span class="line">                &lt;button :disabled=&quot;item.count&lt;=1&quot; @click.stop=&quot;sub(item)&quot;&gt;</span><br><span class="line">                  -</span><br><span class="line">                &lt;/button&gt;</span><br><span class="line">                &#123;&#123;item.count&#125;&#125;</span><br><span class="line">                &lt;button @click.stop=&quot;add(item)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">              &lt;/td&gt;</span><br><span class="line">              &lt;td&gt;&lt;button @click.stop=&quot;del(index)&quot;&gt;移除&lt;/button&gt;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">          &lt;/tbody&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">        &lt;h2&gt;总价:&#123;&#123;formateMoney(totalPrice)&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">      &lt;template v-else&gt;</span><br><span class="line">        &lt;h2&gt;购物车为空，请添加喜欢的书籍&lt;/h2&gt;</span><br><span class="line">        &lt;p&gt;商城中有大量IT类书籍，请购买生发水配合使用&lt;/p&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./data.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      //1.创建app</span><br><span class="line">      const app = Vue.createApp(&#123;</span><br><span class="line">        data: function () &#123;</span><br><span class="line">          return &#123;</span><br><span class="line">            books: books,</span><br><span class="line">            currentIndex: -1,</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        computed: &#123;</span><br><span class="line">          totalPrice() &#123;</span><br><span class="line">            return this.books.reduce(</span><br><span class="line">              (prev, item) =&gt; prev + item.price * item.count,</span><br><span class="line">              0</span><br><span class="line">            );</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">          rowClick(index) &#123;</span><br><span class="line">            this.currentIndex = index;</span><br><span class="line">          &#125;,</span><br><span class="line">          del(index) &#123;</span><br><span class="line">            this.books.splice(index, 1);</span><br><span class="line">          &#125;,</span><br><span class="line">          sub(item) &#123;</span><br><span class="line">            item.count--;</span><br><span class="line">          &#125;,</span><br><span class="line">          add(item) &#123;</span><br><span class="line">            // this.books[index].count++;</span><br><span class="line">            item.count++;</span><br><span class="line">          &#125;,</span><br><span class="line">          formateMoney(money) &#123;</span><br><span class="line">            return &#x27;¥&#x27; + money.toFixed(2);</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">      //2. 挂载</span><br><span class="line">      app.mount(&#x27;#app&#x27;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-vue-cli创建vue项目"><a href="#4-vue-cli创建vue项目" class="headerlink" title="4.vue-cli创建vue项目"></a>4.<strong>vue-cli创建vue项目</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create 项目名</span><br></pre></td></tr></table></figure>

<p><img src="https://docimg7.docs.qq.com/image/AgAABlP525xekEaQcEZDALzy3tzes5An.png?w=664&h=235" alt="img"></p>
<p><img src="https://docimg7.docs.qq.com/image/AgAABlP525xZkHqeYXtBzpVqbeggdu_3.png?w=911&h=283" alt="img"></p>
<p><img src="https://docimg10.docs.qq.com/image/AgAABlP525xnz-HCFhtG36OOvquLklL9.png?w=881&h=70" alt="img"></p>
<p><img src="https://docimg6.docs.qq.com/image/AgAABlP525yVUH58z9BH-aXzCMRAZT14.png?w=847&h=122" alt="img"></p>
<p><img src="https://docimg1.docs.qq.com/image/AgAABlP525yEJqhv3O5Aqa1RQetjUYo_.png?w=882&h=103" alt="img"></p>
<p><img src="https://docimg5.docs.qq.com/image/AgAABlP525w6KeSMwwlESbfxzE3OWqpK.png?w=817&h=74" alt="img"></p>
<p><img src="https://docimg9.docs.qq.com/image/AgAABlP525znF4xbfklGAKyVx1_yA6Jf.png?w=927&h=297" alt="img"></p>
<p><img src="https://docimg1.docs.qq.com/image/AgAABlP525yoxsFd7FNLr5DXdRuZJLMH.png?w=740&h=291" alt="img"></p>
<p>Volar的配置</p>
<p><img src="https://docimg4.docs.qq.com/image/AgAABlP525yGXFJZtWJDvqHCwhuaYVrx.png?w=757&h=234" alt="img"></p>
<p><img src="https://docimg4.docs.qq.com/image/AgAABlP525yzU_9zQ-JLs4jze05KQO3G.png?w=220&h=77" alt="img"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/14/b38-1%20vue%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95(%E4%BA%8C)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/14/b38-1%20vue%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95(%E4%BA%8C)/" class="post-title-link" itemprop="url">vue基础语法(二)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-14 14:06:09" itemprop="dateCreated datePublished" datetime="2022-06-14T14:06:09+08:00">2022-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:04:00" itemprop="dateModified" datetime="2023-07-22T21:04:00+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>3.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>11 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue基础语法（二）"><a href="#Vue基础语法（二）" class="headerlink" title="Vue基础语法（二）"></a>Vue基础语法（二）</h1><h2 id="1-v-on绑定事件"><a href="#1-v-on绑定事件" class="headerlink" title="1. v-on绑定事件"></a>1. v-on绑定事件</h2><p>v-on的使用</p>
<p>​	缩写:@</p>
<p>​	参数：event</p>
<p>​	用法：绑定事件回调函数</p>
<h3 id="1-1-基本使用"><a href="#1-1-基本使用" class="headerlink" title="1.1 基本使用"></a><strong>1.1 基本使用</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    margin-top: 10px;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 基本使用 --&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; v-on:click=&quot;divClick&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;!-- 简写 重点掌握 --&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; @click=&quot;divClick&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;!-- 不推荐，绑定方法的时候也可以写一个表达式 --&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button @click=&quot;add&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;counter--&quot;&gt;-1&lt;/button&gt;</span><br><span class="line">  &lt;!-- 绑定其他事件 --&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; @mousemove=&quot;divMouse&quot;&gt;66&lt;/div&gt;</span><br><span class="line">  &lt;!-- 如何绑定多个事件 --&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; @click=&quot;divClick&quot; @mousemove=&quot;divMouse&quot;&gt;多个事件&lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; v-on=&quot;&#123;click:divClick,mousemove:divMouse&#125;&quot;&gt;</span><br><span class="line">    多个事件1</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; @=&quot;&#123;click:divClick,mousemove:divMouse&#125;&quot;&gt;多个事件2&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        counter: 0,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      divMouse() &#123;</span><br><span class="line">        console.log(&#x27;鼠标移动了&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">      divClick() &#123;</span><br><span class="line">        console.log(&#x27;6666&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">      add() &#123;</span><br><span class="line">        this.counter++;</span><br><span class="line">      &#125;,</span><br><span class="line">      sub() &#123;</span><br><span class="line">        this.counter--;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="1-2-参数的传递"><a href="#1-2-参数的传递" class="headerlink" title="1.2 参数的传递"></a><strong>1.2 参数的传递</strong></h3><p>你要传递参数就得在@绑定的时候加上()，如果你不需要传递参数，那就不加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 1.默认传递 event --&gt;</span><br><span class="line">  &lt;button @click=&quot;btn1&quot;&gt;按钮1&lt;/button&gt;</span><br><span class="line">  &lt;!-- 2.只有自己的参数 --&gt;</span><br><span class="line">  &lt;button @click=&quot;btn2(username,age)&quot;&gt;按钮2&lt;/button&gt;</span><br><span class="line">  &lt;!-- 3.自己的参数和event都要 --&gt;</span><br><span class="line">  &lt;!-- 明确想要事件对象需要加$event --&gt;</span><br><span class="line">  &lt;button @click=&quot;btn3(username,age,$event)&quot;&gt;按钮3&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        username: &#x27;alex&#x27;,</span><br><span class="line">        age: 18,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      //绑定的时候没有传递任何参数，event对象会被默认传递进来</span><br><span class="line">      btn1(event) &#123;</span><br><span class="line">        console.log(event.target);</span><br><span class="line">      &#125;,</span><br><span class="line">      btn2(name, age) &#123;</span><br><span class="line">        console.log(name, age);</span><br><span class="line">      &#125;,</span><br><span class="line">      btn3(a, b, c) &#123;</span><br><span class="line">        console.log(a, b, c);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="1-3-修饰符"><a href="#1-3-修饰符" class="headerlink" title="1.3 修饰符"></a><strong>1.3 修饰符</strong></h3><p>常用的是stop阻止冒泡，剩下的看看文档就好：<a target="_blank" rel="noopener" href="https://cn.vuejs.org/guide/essentials/event-handling.html#event-modifiers">https://cn.vuejs.org/guide/essentials/event-handling.html#event-modifiers</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .box &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background-color: aqua;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot; @click=&quot;haha&quot;&gt;</span><br><span class="line">    &lt;button @click.stop=&quot;btn&quot;&gt;按钮&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;&#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btn() &#123;</span><br><span class="line">        console.log(&#x27;按钮被点击了&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">      haha() &#123;</span><br><span class="line">        console.log(&#x27;盒子被点击了&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-Vue的条件渲染"><a href="#2-Vue的条件渲染" class="headerlink" title="2. Vue的条件渲染"></a>2. Vue的条件渲染</h2><p>根据某些条件来渲染某些元素&#x2F;组件</p>
<p>v-if</p>
<p>v-else</p>
<p>v-else-if</p>
<p>v-show</p>
<h3 id="2-1-demo"><a href="#2-1-demo" class="headerlink" title="**2.1 demo"></a>**2.1 demo</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 如果cars为空 整个ul不展示 --&gt;</span><br><span class="line">  &lt;ul v-if=&quot;cars.length&gt;0&quot;&gt;</span><br><span class="line">    &lt;li v-for=&quot;good in cars&quot;&gt;&#123;&#123;good&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">  &lt;!-- if不展示的时候展示else的内容 --&gt;</span><br><span class="line">  &lt;h2 v-else&gt;🛒为空，快去淘点东西～～～&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        cars: [],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>v-if，v-else，v-else-if用于根据条件来渲染某一块的内容，只有条件为true的时候才会渲染，这三个指令与if、else、else if类似</p>
<p>v-if：他是惰性的，当条件为false的时候其内容完全不会被渲染或者被销毁掉；当条件为true的时候才会真正渲染某一块的内容。</p>
<h3 id="2-2-v-if，v-else使用"><a href="#2-2-v-if，v-else使用" class="headerlink" title="2.2 v-if，v-else使用"></a><strong>2.2 v-if，v-else使用</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">     &lt;!-- person有内容的时候展示人的信息 姓名+年龄 </span><br><span class="line">     person是一个空对象的时候，不展示</span><br><span class="line">     --&gt;</span><br><span class="line">     &lt;div v-if=&quot;Object.keys(person).length&quot;&gt;</span><br><span class="line">       &lt;h2&gt;个人信息&lt;/h2&gt;</span><br><span class="line">       &lt;ul&gt;</span><br><span class="line">         &lt;li&gt;姓名：&#123;&#123;person.name&#125;&#125;&lt;/li&gt;</span><br><span class="line">         &lt;li&gt;年龄:&#123;&#123;person.age&#125;&#125;&lt;/li&gt;</span><br><span class="line">       &lt;/ul&gt;</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">     &lt;div v-else&gt;</span><br><span class="line">       &lt;h2&gt;没有输入信息&lt;/h2&gt;</span><br><span class="line">       &lt;p&gt;请输入个人信息～～～&lt;/p&gt;</span><br><span class="line">     &lt;/div&gt;</span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   &lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">     //1.创建app</span><br><span class="line">     const app = Vue.createApp(&#123;</span><br><span class="line">       data: function () &#123;</span><br><span class="line">         return &#123;</span><br><span class="line">           person: &#123;</span><br><span class="line">             name: &#x27;alex&#x27;,</span><br><span class="line">             age: 18,</span><br><span class="line">           &#125;,</span><br><span class="line">         &#125;;</span><br><span class="line">       &#125;,</span><br><span class="line">       methods: &#123;&#125;,</span><br><span class="line">     &#125;);</span><br><span class="line">     //2. 挂载</span><br><span class="line">     app.mount(&#x27;#app&#x27;);</span><br><span class="line">   &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-3-v-else-if"><a href="#2-3-v-else-if" class="headerlink" title="2.3 v-else-if"></a><strong>2.3 v-else-if</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h1 v-if=&quot;score&gt;90&quot;&gt;倩婷&lt;/h1&gt;</span><br><span class="line">  &lt;h2 v-else-if=&quot;score&gt;80&quot;&gt;良好&lt;/h2&gt;</span><br><span class="line">  &lt;h2 v-else-if=&quot;score&gt;60&quot;&gt;及格&lt;/h2&gt;</span><br><span class="line">  &lt;h2 v-else&gt;alex&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        score: 40,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-4-template"><a href="#2-4-template" class="headerlink" title="2.4 template"></a><strong>2.4 template</strong></h3><p>用于控制一组元素，但是又不想使用没有意义的div或者其他元素</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;!-- 我们加一个div的目的是为了控制多个元素的渲染与否，但是这个div是一个多余的dom结构，这个时候我们可以选择使用template来优化 --&gt;</span><br><span class="line">  &lt;template v-if=&quot;Object.keys(person).length&quot;&gt;</span><br><span class="line">    &lt;h2&gt;个人信息&lt;/h2&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &lt;li&gt;姓名：&#123;&#123;person.name&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;年龄:&#123;&#123;person.age&#125;&#125;&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">  &lt;template v-else&gt;</span><br><span class="line">    &lt;h2&gt;没有输入信息&lt;/h2&gt;</span><br><span class="line">    &lt;p&gt;请输入个人信息～～～&lt;/p&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        person: &#123;</span><br><span class="line">          name: &#x27;alex&#x27;,</span><br><span class="line">          age: 18,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="2-5-v-show"><a href="#2-5-v-show" class="headerlink" title="2.5 v-show"></a><strong>2.5 v-show</strong></h3><p>v-show后面的条件为true的时候展示，为false不展示 和v-if看起来一样</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;button @click=&quot;toggle&quot;&gt;切换&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">  &lt;img</span><br><span class="line">    v-show=&quot;isShow&quot;</span><br><span class="line">    src=&quot;https://game.gtimg.cn/images/yxzj/web201706/images/comm/floatwindow/wzry_qrcode.jpg&quot;</span><br><span class="line">    alt=&quot;&quot;</span><br><span class="line">  /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        isShow: true,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      toggle() &#123;</span><br><span class="line">        this.isShow = !this.isShow;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>v-show和v-if的区别：</p>
<p>本质的区别：v-show是通过display：none来让元素消失，而v-if直接把整个dom结构都干掉了，v-if&#x3D;”false”的时候，其对应的原生dom压根都不会渲染</p>
<p>用法的区别:v-show不支持template，v-show不能 v-else 一起用</p>
<p>实际开发：如果是频繁切换的那就用v-show，如果不频繁就使用v-if</p>
<h3 id="3-列表渲染-掌握"><a href="#3-列表渲染-掌握" class="headerlink" title="3.     列表渲染(掌握)"></a>3.     <strong>列表渲染(掌握)</strong></h3><ol>
<li><p><strong>v-for的时候绑定唯一的key</strong></p>
</li>
<li><p><strong>v-for的时候不要使用数组的index作为key</strong></p>
</li>
</ol>
<p>真实开发中，拿到的一组数据并且需要渲染，这个时候我们不会一个个的去写，而是使用</p>
<p><strong>v-for</strong>来完成，v-for类似于js的循环，可以遍历一组数据</p>
<p>比如京东的商品列表。</p>
<p>使用v-for来渲染一组数据，就是我们常说的列表渲染</p>
<h4 id="3-1-v-for的基本使用"><a href="#3-1-v-for的基本使用" class="headerlink" title="3.1 v-for的基本使用"></a><strong>3.1 v-for的基本使用</strong></h4><p>v-for的基本格式 “<strong>item in 数组”</strong></p>
<p>​	数组通常是来自于data或者prop，或者请求</p>
<p>​	item是我们起的一个别名，这个别名可以自定义</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;电影列表&lt;/h2&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;movie in movies&quot;&gt;&#123;&#123;movie&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        movies: [&#x27;多啦a梦&#x27;, &#x27;复仇者联盟&#x27;, &#x27;蜘蛛侠&#x27;],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>在我们遍历一个数组的时候，往往可能需要拿到索引来做一些操作，</p>
<p>​	如果在v-for中你需要用到索引的话，v-for&#x3D;”(item,index) in arr”</p>
<p>​	注意：item和index的顺序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;(movie,index) in movies&quot;&gt;</span><br><span class="line">    &#123;&#123;index+1&#125;&#125; -&#123;&#123;movie&#125;&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>实际工作中，我们需要渲染的数组往往是比较复杂的</p>
<p>渲染相对复杂一丢丢的数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;商品列表&lt;/h2&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;good in goods&quot;&gt;</span><br><span class="line">      &lt;p&gt;商品名称:&#123;&#123;good.name&#125;&#125;&lt;/p&gt;</span><br><span class="line">      &lt;p&gt;商品价格:&#123;&#123;good.price&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        goods: [</span><br><span class="line">          &#123; name: &#x27;mbp&#x27;, price: 1999 &#125;,</span><br><span class="line">          &#123; name: &#x27;imac&#x27;, price: 2999 &#125;,</span><br><span class="line">          &#123; name: &#x27;iphone&#x27;, price: 3999 &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h4 id="3-2-v-for的其他类型"><a href="#3-2-v-for的其他类型" class="headerlink" title="3.2 v-for的其他类型"></a><strong>3.2 v-for的其他类型</strong></h4><p>v-for还支持</p>
<p>对象</p>
<p>数字</p>
<p>字符串(所有的可迭代对象) </p>
<p><strong>v-for对象</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;!-- 只要你写了两个或者两个以上的别名，就需要小括号 --&gt;</span><br><span class="line">    &lt;li v-for=&quot;(value,key,index) in info&quot;&gt;&#123;&#123;value&#125;&#125;~&#123;&#123;key&#125;&#125;~&#123;&#123;index&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">  &lt;!-- 只写一个 --&gt;</span><br><span class="line">  &lt;h2 v-for=&quot;value in info&quot;&gt;&#123;&#123;value&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;!-- 写两个 --&gt;</span><br><span class="line">  &lt;h3 v-for=&quot;(value,key) in info&quot;&gt;&#123;&#123;value&#125;&#125;&lt;==&gt;&#123;&#123;key&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        info: &#123;</span><br><span class="line">          name: &#x27;alex&#x27;,</span><br><span class="line">          age: 18,</span><br><span class="line">          height: 1.88,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>v-for也支持数字的遍历</p>
<p>​	item就是每个数字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul&gt;</span><br><span class="line">  &lt;li v-for=&quot;item in 10&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>v-for遍历字符串</p>
<p>​	item就是单个字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;item in msg&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        msg: &#x27;hello vue&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>类似v-if如果，外层的div没有实际的意义，可以用template替换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;template v-for=&quot;(value,key,index) in info&quot;&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123;value&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;strong&gt;&#123;&#123;key&#125;&#125;&lt;/strong&gt;</span><br><span class="line">    &lt;i&gt;&#123;&#123;index&#125;&#125;&lt;/i&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        info: &#123; name: &#x27;alex&#x27;, age: 18, height: 1.88 &#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-3-数组的更新检测"><a href="#3-3-数组的更新检测" class="headerlink" title="3.3 数组的更新检测"></a><strong>3.3 数组的更新检测</strong></h4><p>vue2和vue3的区别，vue2使用类似this.arr[0]&#x3D;”123”是不能触发视图的更新，因为Object.defineproperty并不能监听一个对象中0的访问和修改，但是vue3可以，因为他用的proxy。vue2的解决方案是采用Vue.set()</p>
<p>其实Vue内部将所有变更数组的方法进行了<strong>重写</strong>，保证他们对数组的操作能够被监听到。能够触发视图的更新</p>
<p>​	push 尾部添加</p>
<p>​	pop	 尾部删除</p>
<p>​	shift 头部删除</p>
<p>​	unshift 头部添加</p>
<p>​	splice 任意位置 添加&#x2F;删除&#x2F;替换</p>
<p>​	sort 排序</p>
<p>​	reverse 翻转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;item in names&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">  &lt;button @click=&quot;changeArray&quot;&gt;修改&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        names: [&#x27;abc&#x27;, &#x27;cba&#x27;, &#x27;nba&#x27;, &#x27;aaa&#x27;, &#x27;ccc&#x27;],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeArray() &#123;</span><br><span class="line">        this.names.splice(2, 1, &#x27;alex&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>除了上述的一些方法以外，还有一些方法是返回一个新数组，用这个新数组直接替换旧数组也能让视图更新。比如filter，map…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;item in names&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">  &lt;button @click=&quot;changeArray&quot;&gt;修改&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        names: [1, 2, 3, 4, 5],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      changeArray() &#123;</span><br><span class="line">        // console.log(1111);</span><br><span class="line">        // //过滤掉偶数</span><br><span class="line">        // this.names = this.names.filter((ele) =&gt; ele % 2);</span><br><span class="line">        //箭头函数简写的注意：一旦你写了&#123;&#125;就得写return</span><br><span class="line">        this.names = this.names.map((ele) =&gt; &#123;</span><br><span class="line">          ele = ele * 2;</span><br><span class="line">          return ele;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="3-4-v-for中key的作用"><a href="#3-4-v-for中key的作用" class="headerlink" title="3.4 v-for中key的作用"></a><strong>3.4 v-for中key的作用</strong></h4><p>官方：</p>
<p>​	key属性主要用于Vue的<strong>虚拟DOM</strong>算法，在<strong>新旧Vnode</strong>对比时辨识Vnode；</p>
<p>​	如果不使用key，Vue会使用一种最大限度地减少动态元素并且尽可能地尝试就地<strong>修改&#x2F;复用</strong>相同类型的元素的算法</p>
<p>​	使用key时，他会基于key的变化重新排列元素的顺序，并且移除&#x2F;销毁key不存在的元素。个人：<strong>差量更新，就地复用</strong></p>
<p>认识vnode</p>
<p>​	因为还没有学习组件，所以我们暂时理解html元素创建出来的vnode</p>
<p>​	Virtual Node虚拟节点；无论是组件还是html元素在vue中都会解析成一个个的虚拟的节点</p>
<p>​	Vnode本质就是一个js对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;title&quot; style=&quot;font-size: 30px; color: red&quot;&gt;哈哈哈&lt;/div&gt;</span><br><span class="line">    &lt;!-- 上述结构会在vue中抽象成下面的vnode --&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      const vnode = &#123;</span><br><span class="line">        type: &#x27;div&#x27;,</span><br><span class="line">        props: &#123;</span><br><span class="line">          class: &#x27;title&#x27;,</span><br><span class="line">          style: &#123;</span><br><span class="line">            &#x27;font-size&#x27;: &#x27;30px&#x27;,</span><br><span class="line">            color: &#x27;red&#x27;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        children: &#x27;哈哈哈&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>vue在解析模版的时候，会把里面的一个个标签都抽象成一个个vnode，实际上我们的页面不只是上述简单一个div构成，而是许多元素，这些元素被抽象的时候最终会形成像真实dom一样的树形结构，这样的结构就是VDOM</p>
<p>也就是多个vnode构成的一个相对比较大的js对象而已。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> vnode=&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="string">&quot;div&quot;</span>,</span><br><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line">    <span class="attr">id</span>:<span class="string">&quot;app&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line"><span class="comment">//很多很多其他vnode</span></span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>插入f案例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;button @click=&quot;insertF&quot;&gt;插入f&lt;/button&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;item in letters&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        letters: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      insertF() &#123;</span><br><span class="line">        this.letters.splice(2, 0, &#x27;f&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们确定一件事，在本次更新中，button和ul都不用更新，需要更新只是li,但是观察控制台的element会发现点击以后闪烁的li有四个，从插入f开始后续的li都会销毁然后重新创建，如果我们给他绑定一个唯一的key，就能够更新过程中只更改一个li</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;li v-for=&quot;item in letters&quot; :key=&quot;item&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br></pre></td></tr></table></figure>





<p>vue的diff算法对于有key和没有key的虚拟dom到底是怎么来做的</p>
<p>vue源码中的操作</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165315669.png" alt="image-20230630165315669"></p>
<p>我们先看没有key的操作</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165341178.png" alt="image-20230630165341178"></p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165354502.png" alt="image-20230630165354502"></p>
<p>那具体是怎么做的呢？</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165407979.png" alt="image-20230630165407979"></p>
<p>有key的时候源码的操作</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165418926.png" alt="image-20230630165418926"></p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165435148.png" alt="image-20230630165435148"></p>
<p>有key的diff操作如下</p>
<p>第一步从头开始遍历，调用patch比较，c和f的key不一致会跳出</p>
<p>第二步从尾巴开始遍历，比较，b和f的key不一致，会跳出</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165454897.png" alt="image-20230630165454897"></p>
<p>第三步如果旧的节点遍历完了，依然有新节点，那就新增</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165509046.png" alt="image-20230630165509046"></p>
<p>第四步：如果新节点遍历完毕以后，依然还有旧的节点，移除旧节点</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165523023.png" alt="image-20230630165523023"></p>
<p>第五步：最特殊的情况，中间还有很多未知或者 乱序的节点</p>
<p><img src="https://img-1317399392.cos.ap-guangzhou.myqcloud.com/img/image-20230630165535285.png" alt="image-20230630165535285"></p>
<p>为什么说vue3比vue2还慢，其实是diff的时候有key的情况下，第五种情况，他会重新遍历一遍整个旧的节点，用map建立一个索引的图结构，目的是为了最大程度的复用旧的节点。这里说的慢是js慢，因为vue2采用的比较是旧节点首尾索引，新节点首位索引，他的时间复杂度是O(n),vue3是O(nlogn)，所以某些情况下diff的时候vue3会更慢，但是这种慢是能接受的，js更多的操作目的是为了dom更少的操作。</p>
<p>解释如下bug:选中imac，然后删除mpb，发现默认选中的不再是imac而是iphone因为此时iphone的索引变成了1，vue为了最大程度的复用旧节点，删除前有选中的是key为1的li，删除后选中的也是key为1的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;(item,index) in goods&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">      &lt;input type=&quot;checkbox&quot; /&gt;</span><br><span class="line">      商品名称：&#123;&#123;item.name&#125;&#125; 商品价格：&#123;&#123;item.price&#125;&#125;</span><br><span class="line">      &lt;button @click=&quot;del(index)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        goods: [</span><br><span class="line">          &#123; id: &#x27;001&#x27;, name: &#x27;mbp&#x27;, price: 1999 &#125;,</span><br><span class="line">          &#123; id: &#x27;002&#x27;, name: &#x27;imac&#x27;, price: 2999 &#125;,</span><br><span class="line">          &#123; id: &#x27;003&#x27;, name: &#x27;phone&#x27;, price: 3999 &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      del(index) &#123;</span><br><span class="line">        this.goods.splice(index, 1);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/12/b38%20Vue%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95(%E4%B8%80)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/12/b38%20Vue%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95(%E4%B8%80)/" class="post-title-link" itemprop="url">vue基础语法(一)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-12 14:06:09" itemprop="dateCreated datePublished" datetime="2022-06-12T14:06:09+08:00">2022-06-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:22:05" itemprop="dateModified" datetime="2023-07-22T21:22:05+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>10 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vue基础语法-一"><a href="#Vue基础语法-一" class="headerlink" title="Vue基础语法(一)"></a><strong>Vue基础语法(一)</strong></h1><h2 id="1-认识Vue"><a href="#1-认识Vue" class="headerlink" title="1.认识Vue"></a>1.认识Vue</h2><p>Vue是一套用于<strong>构建用户界面</strong>的<strong>渐进式</strong>JavaScript框架。作者：evenYou 尤雨溪 Vuejs Vue.js，他基于标准的html、css、js构建，并且提供了一套声明式的，组件化的编程模型，可以帮助我们高效的开发用户界面，不论这个界面的逻辑是简单还是复杂。</p>
<p>渐进式：可以在项目中一点点的来引入和使用Vue，而不必一开始就使用vue来开发整个项目。</p>
<p>目前前端流行的三大框架</p>
<p>Angular:入门门槛高，国内市场占有率低，不否认本身是及其优秀的框架</p>
<p>React：在国内外市场占有率都很高，也是作为前端必学的一个框架。</p>
<p>Vue: 在国内市场占有率最高的一个框架，几乎所有的前端岗位都会对vue有要求。</p>
<p>现实的角度</p>
<ul>
<li><p>后端：Java，Go，nodejs</p>
</li>
<li><p>前端：JS</p>
</li>
</ul>
<h2 id="2-如何使用Vue"><a href="#2-如何使用Vue" class="headerlink" title="2.如何使用Vue"></a>2.<strong>如何使用Vue</strong></h2><p>Vue的本质，就是一个js库,刚开始我们不用把他想的太复杂，就把它理解成一个封装好的库就行。</p>
<p>使用方式</p>
<ol>
<li><p>cdn <code>[https://unpkg.com/vue@3/dist/vue.global.js&quot;&gt;</code>](<a target="_blank" rel="noopener" href="https://unpkg.com/vue@3/dist/vue.global.js">https://unpkg.com/vue@3/dist/vue.global.js</a>)</p>
</li>
<li><p>下载Vue 的js文件，并且自己手动的引入</p>
</li>
<li><p>通过npm包管理工具来使用（在webpack的时候）</p>
</li>
<li><p>直接通过vue cli &#x2F;Vite创建项目。</p>
</li>
</ol>
<h3 id="2-1-cdn引入"><a href="#2-1-cdn引入" class="headerlink" title="2.1 cdn引入"></a><strong>2.1 cdn引入</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;!-- cdn引入vue --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- 使用vue --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//Vue的代码</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//这个app可以传入一个对象作为参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//template属性可以解析html标签</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`&lt;h1&gt;hello world&lt;/h1&gt;`</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//把app挂载到对应的位置</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//把vue挂到id为app的div中</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h3 id="2-2-下载引入"><a href="#2-2-下载引入" class="headerlink" title="2.2 下载引入"></a><strong>2.2 下载引入</strong></h3><p>下载Vue的源码，直接打开cdn的连接</p>
<ol>
<li><p>复制所有代码，创建一个新的文件然后将代码粘贴进去</p>
</li>
<li><p>最后通过script引入本地的文件</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;!-- cdn引入vue --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- 使用vue --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//Vue的代码</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//这个app可以传入一个对象作为参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//template属性可以解析html标签</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`&lt;h1&gt;hello world&lt;/h1&gt;`</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//把app挂载到对应的位置</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//把vue挂到id为app的div中</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>
<h2 id="3-Vue的体验"><a href="#3-Vue的体验" class="headerlink" title="3.Vue的体验"></a>3.<strong>Vue的体验</strong></h2><h3 id="3-1-动态数据"><a href="#3-1-动态数据" class="headerlink" title="3.1 动态数据"></a><strong>3.1 动态数据</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;!-- cdn引入vue --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue@3/dist/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- 使用vue --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//Vue的代码</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//这个app可以传入一个对象作为参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//template属性可以解析html标签</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`&lt;h1&gt;hello world&lt;/h1&gt;`</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//把app挂载到对应的位置</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//把vue挂到id为app的div中</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="3-2-列表数据"><a href="#3-2-列表数据" class="headerlink" title="3.2 列表数据"></a><strong>3.2 列表数据</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//v-for可以遍历数组，对象，对应的movie就是数组的每一项，</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//如果将来这个电影数组里面有100  1000  10000部电影</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//我的代码不用动</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;h2&gt;电影列表&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;ul&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">      &lt;li v-for=&quot;movie in movies&quot;&gt;&#123;&#123;movie&#125;&#125;&lt;/li&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;/ul&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    `</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">msg</span>: <span class="string">&#x27;天河阔少-alex&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">movies</span>: [<span class="string">&#x27;蜘蛛侠&#x27;</span>, <span class="string">&#x27;GGBond&#x27;</span>, <span class="string">&#x27;疾速追杀4&#x27;</span>, <span class="string">&#x27;霸王别姬&#x27;</span>, <span class="string">&#x27;海上钢琴师&#x27;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-3-计数器"><a href="#3-3-计数器" class="headerlink" title="3.3 计数器"></a><strong>3.3 计数器</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//v-for可以遍历数组，对象，对应的movie就是数组的每一项，</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//如果将来这个电影数组里面有100  1000  10000部电影</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//我的代码不用动</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">template</span>: <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;h2&gt;电影列表&lt;/h2&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;ul&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">      &lt;li v-for=&quot;movie in movies&quot;&gt;&#123;&#123;movie&#125;&#125;&lt;/li&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    &lt;/ul&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="language-javascript"><span class="language-xml">    `</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">msg</span>: <span class="string">&#x27;天河阔少-alex&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">movies</span>: [<span class="string">&#x27;蜘蛛侠&#x27;</span>, <span class="string">&#x27;GGBond&#x27;</span>, <span class="string">&#x27;疾速追杀4&#x27;</span>, <span class="string">&#x27;霸王别姬&#x27;</span>, <span class="string">&#x27;海上钢琴师&#x27;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>重构计数器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span>-<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//优先级更高</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// template: &#x27;哈哈哈哈哈&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">counter</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//所有的方法也需要交给vue不然模版里面访问不到的</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// add:function()&#123;&#125;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">counter</span>++;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">sub</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">counter</span>--;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="4-声明式和命令式编程"><a href="#4-声明式和命令式编程" class="headerlink" title="4.声明式和命令式编程"></a>4.<strong>声明式和命令式编程</strong></h2><p>原生开发和Vue开发模式的不同，因为这是两种完全不同的编程范式</p>
<p>**命令式编程(原生)**：how to do</p>
<p>**声明式编程(Vue)**：what to do,由框架完成了how的过</p>
<h2 id="5-MVC和MVVM"><a href="#5-MVC和MVVM" class="headerlink" title="5.MVC和MVVM"></a>5.<strong>MVC和MVVM</strong></h2><p>都是软件的架构体系</p>
<p>​	MVC-Model，View，Controller的简写，在前期被广泛使用比如后端，IOS，前端</p>
<p>​	MVVM-Model，view，ViewModel，是目前非常流行的架构</p>
<p>model：数据</p>
<p>view：界面</p>
<p>viewModel:对应在vue中就是vue，也就是帮我们自动管理视图和数据的关系</p>
<h2 id="6-options-data属性选项"><a href="#6-options-data属性选项" class="headerlink" title="6.options-data属性选项"></a>6.<strong>options-data属性选项</strong></h2><p>data属性是一个函数，并且该函数需要返回一个对象</p>
<p>​	在Vue2.x版本，可以直接写一个对象(官方推荐是一个函数)</p>
<p>​	在Vue3.x版本，必须是一个函数，否则直接报错</p>
<p>data返回的对象会被Vue的响应式系统劫持，之后对该对象的属性的修改&#x2F;访问都会在劫持中被处理</p>
<h2 id="7-options-methods属性选项"><a href="#7-options-methods属性选项" class="headerlink" title="7. options-methods属性选项"></a>7. <strong>options-methods属性选项</strong></h2><p>不能使用箭头函数理由是箭头函数绑定了父级作用域的上下文，所以 this 将不会按照期望指向 Vue 实例，因为此时箭头函数内this指向了window而不是vue实例</p>
<p>不使用箭头函数的情况下，this到底指向谁？</p>
<p>它内部定义一个publicThis的变量保存代理的实例，然后读取选项api中的methods，遍历所有函数，通过Object.defineProperty给每个函数用bind绑定了publicThis，这样每个methods中的函数访问this拿到的就是代理的实例，拿到data中的数据</p>
<ol>
<li><p>不能写箭头函数</p>
</li>
<li><p>已经帮我们绑定好this方便我们操作数据</p>
</li>
</ol>
<p>template，data，methods API，比如props，watch，computed，setup，生命周期函数，都会讲到</p>
<p>慢慢来反而比较快。</p>
<h2 id="8-代码片段"><a href="#8-代码片段" class="headerlink" title="8.代码片段"></a>8.<strong>代码片段</strong></h2><p>日常开发，学习有一些代码块，我们是需要经常使用，我们可以利用vscode的代码片段，而不需要每次手动书写，如何配置代码片段</p>
<ol>
<li><p>复制自己需要的代码片段</p>
</li>
<li><p>在网站中生成对应的代码片段 <a target="_blank" rel="noopener" href="https://snippet-generator.app/">https://snippet-generator.app/</a></p>
</li>
<li><p>在vscode中配置</p>
</li>
</ol>
<p><img src="https://docimg10.docs.qq.com/image/AgAABlP525wLP_zCX8RIhbCEDGpa1it-.png?w=1238&h=407" alt="img"></p>
<h2 id="9-Mustache语法"><a href="#9-Mustache语法" class="headerlink" title="9.Mustache语法"></a>9.<strong>Mustache语法</strong></h2><p>React的开发模式：</p>
<p>​	react是使用jsx，所有的代码是一种类似js的方式，之后通过babel将jsx编译成React.createElement来使用</p>
<p>Vue的开发模式：</p>
<p>​	使用基于html的模版语法，在模版中允许开发者以声明式的方法将DOM和底层组件实例的数据绑定在一起。</p>
<p>如果我们希望在vue中展示数据，使用最多的语法就是mustache语法(双大括号)的文本插值，也有人叫他双胡子语法。之前写的都是data中的数据，实际上他里面还可以是一个<strong>js表达式</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;msg&#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;counter*3&#125;&#125;</span><br><span class="line">&#123;&#123;info.split(&quot; &quot;)&#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;age&gt;=18?&#x27;成年人&#x27;:&#x27;未成年人&#x27;&#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;formateDate()&#125;&#125;</span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h2 id="10-常见的基本指令"><a href="#10-常见的基本指令" class="headerlink" title="10.常见的基本指令"></a>10.<strong>常见的基本指令</strong></h2><h3 id="10-1-v-once指令"><a href="#10-1-v-once指令" class="headerlink" title="10.1 v-once指令"></a><strong>10.1 v-once指令</strong></h3><p>用于指定的元素或者组件只渲染一次</p>
<p>当数据发生变化的时候，元素&#x2F;组件以及其所有子元素都视为静态内容并且跳过编译，该指令可用于性能优化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  &lt;!-- 如果是子节点也只会渲染一次 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-once</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 只渲染一次，哪怕后续数据有变化我也不再更新 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;msg&#125;&#125;--&#123;&#123;counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">msg</span>: <span class="string">&#x27;天河阔少&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">counter</span>: <span class="number">10</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">msg</span> = <span class="string">&#x27;alex&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">counter</span>++;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">counter</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">msg</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-2-v-text指令"><a href="#10-2-v-text指令" class="headerlink" title="10.2 v-text指令"></a><strong>10.2 v-text指令</strong></h3><p>用于更新元素的textContent</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>aaaa&#123;&#123;msg&#125;&#125;aaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  &lt;!-- msg的内容会覆盖掉原有的aaaaaa --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    aaaaaaa</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">msg</span>: <span class="string">&#x27;天河阔少&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="10-3-v-html指令"><a href="#10-3-v-html指令" class="headerlink" title="10.3 v-html指令"></a><strong>10.3 v-html指令</strong></h3><p>解析html字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>aaaa&#123;&#123;msg&#125;&#125;aaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;msg&quot;</span>&gt;</span>aaaaaaa<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">  //1.创建app</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">  const app = Vue.createApp(&#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    data: function () &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">      return &#123;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">        msg: `<span class="tag">&lt;<span class="name">ul</span> <span class="attr">style</span>=<span class="string">&quot;color:red;font-size:50px;&quot;</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span>`,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">      &#125;;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    &#125;,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">    methods: &#123;&#125;,</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">  &#125;);</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">  //2. 挂载</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml">  app.mount(&#x27;#app&#x27;);</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="language-xml"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-4-v-pre"><a href="#10-4-v-pre" class="headerlink" title="10.4 v-pre"></a><strong>10.4 v-pre</strong></h3><p>v-pre用于跳过元素和它的子元素的编译过程，显示原始的mustache标签，用户跳过不需要编译的节点，加快速度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>12312312<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">msg</span>: <span class="string">&#x27;天河阔少-alex&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-5-v-cloak"><a href="#10-5-v-cloak" class="headerlink" title="10.5 v-cloak"></a><strong>10.5 v-cloak</strong></h3><p>这个指令保持在元素上，直到关联组件实例结束编译。往往和css一起，防止用户看到双括号结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  [v-cloak] &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2 v-cloak&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;./lib/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  //1.创建app</span><br><span class="line">  const app = Vue.createApp(&#123;</span><br><span class="line">    data: function () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        msg: &#x27;天河阔少-alex&#x27;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;&#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">  //2. 挂载</span><br><span class="line">  app.mount(&#x27;#app&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="10-6-v-memo"><a href="#10-6-v-memo" class="headerlink" title="10.6 v-memo"></a><strong>10.6 v-memo</strong></h3><p>部分缓存</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  &lt;!-- v-memo memory记忆--&gt;</span><br><span class="line">  &lt;!-- 只有name的更新才会导致重新渲染其他的age height的更新不会重新渲染甚至连<span class="title class_">Vnode</span> <span class="variable constant_">VDOM</span>都不会创建 --&gt;      </span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-memo</span>=<span class="string">&quot;[name]&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;height&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeAge&quot;</span>&gt;</span>改变age<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeName&quot;</span>&gt;</span>改变name<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">name</span>: <span class="string">&#x27;alex&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">age</span>: <span class="number">18</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">height</span>: <span class="number">1.88</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">changeAge</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">88</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>, <span class="variable language_">this</span>.<span class="property">name</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">changeName</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;收租佬&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>, <span class="variable language_">this</span>.<span class="property">name</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="11-v-bind绑定属性-掌握"><a href="#11-v-bind绑定属性-掌握" class="headerlink" title="11 v-bind绑定属性(掌握)"></a><strong>11 v-bind绑定属性(掌握)</strong></h2><p>前面讲的一系列指令，主要是将值插入到模版中，或者向另一个组件传递值</p>
<p>在开发中，有一些属性需要动态绑定的，比如a的连接href、图片的src、动态绑定一些class&#x2F;style等等</p>
<p>v-bind：</p>
<pre><code>缩写 **:**

用法 动态地绑定一个或者多个attribute，或者给组件prop传值
</code></pre>
<h3 id="11-1-绑定基本属性"><a href="#11-1-绑定基本属性" class="headerlink" title="11.1 绑定基本属性"></a><strong>11.1 绑定基本属性</strong></h3><p>两个注意事项：</p>
<ol>
<li><p>不要忘记加冒号</p>
</li>
<li><p>在methods中操作data中的数据时 记得加this</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  &lt;!-- 把imgUrl1当作资源的名称，而不是data中的一个变量来解析 --&gt;</span><br><span class="line">  &lt;!-- <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;imgUrl1&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span> --&gt;</span><br><span class="line">  &lt;!-- <span class="number">1.</span>绑定img的src --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;defaultSrc&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span></span><br><span class="line">  &lt;!-- <span class="number">2.</span>实际开发往往简写 --&gt;</span><br><span class="line">  &lt;!-- <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgUrl1&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;href&quot;</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;swtichImg()&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span> --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;swtichImg&quot;</span>&gt;</span>切换图片<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">href</span>: <span class="string">&#x27;www.baidu.com&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">imgUrl1</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="string">&#x27;https://t7.baidu.com/it/u=848096684,3883475370&amp;fm=193&amp;f=GIF&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">imgUrl2</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="string">&#x27;https://t7.baidu.com/it/u=1653814446,2847580380&amp;fm=193&amp;f=GIF&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//如果defaultSrc和imgUrl1相等则展示url1如果不等则展示默认的url2</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">defaultSrc</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="string">&#x27;https://t7.baidu.com/it/u=848096684,3883475370&amp;fm=193&amp;f=GIF&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//这里面操作data中的数据一定要加this</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">swtichImg</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">defaultSrc</span> =</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">defaultSrc</span> === <span class="variable language_">this</span>.<span class="property">imgUrl1</span> ? <span class="variable language_">this</span>.<span class="property">imgUrl2</span> : <span class="variable language_">this</span>.<span class="property">imgUrl1</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="11-2-绑定class"><a href="#11-2-绑定class" class="headerlink" title="11.2 绑定class"></a><strong>11.2 绑定class</strong></h3><p>数据为某个状态的时候，字体为红色，数据是另一个状态的时候我们的字体为黑色。</p>
<p>绑定class有两种方法</p>
<ol>
<li><p>对象语法</p>
</li>
<li><p>数组语法</p>
</li>
</ol>
<p>对象语法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .<span class="property">active</span> &#123;</span><br><span class="line">    <span class="attr">color</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">  .<span class="property">alex</span> &#123;</span><br><span class="line">    background-<span class="attr">color</span>: aqua;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 1.基本的绑定 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;classes&quot;</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 2.动态class可以写对象语法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;isActive?&#x27;active&#x27;:&#x27;&#x27;&quot;</span>&gt;</span>alex 唱跳rap<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;changeAlex&quot;</span>&gt;</span>改变alex<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 2.1 对象的基本语法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- active的类名是否生效根据isActive的布尔值来决定 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:isActive&#125;&quot;</span>&gt;</span>alex 唱跳rap<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 2.2 对象语法的多个键值对 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:isActive,alex:true,jack:false&#125;&quot;</span>&gt;</span>alex 唱跳rap<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 2.3 动态绑定的class 和普通的class同时使用 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;alex&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:isActive&#125;&quot;</span>&gt;</span>alex 唱跳rap<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 2.4 methods --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;DynamicClass()&quot;</span>&gt;</span>alex 唱跳rap<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//1.创建app</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> app = <span class="title class_">Vue</span>.<span class="title function_">createApp</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">classes</span>: <span class="string">&#x27;active aaa bbb ccc asdsad adsdasdasd&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">isActive</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">changeAlex</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">isActive</span> = !<span class="variable language_">this</span>.<span class="property">isActive</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">DynamicClass</span>() &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> &#123; <span class="attr">active</span>: <span class="variable language_">this</span>.<span class="property">isActive</span>, <span class="attr">alex</span>: <span class="literal">true</span>, <span class="attr">jack</span>: <span class="literal">false</span> &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//2. 挂载</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.tailwindcss.cn/">https://www.tailwindcss.cn/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/10/b37%20webpack%E7%9A%84plugin%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/10/b37%20webpack%E7%9A%84plugin%E5%92%8C%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="post-title-link" itemprop="url">尝试用webpack搭建开发环境</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-10 14:06:09" itemprop="dateCreated datePublished" datetime="2022-06-10T14:06:09+08:00">2022-06-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:02:39" itemprop="dateModified" datetime="2023-07-22T21:02:39+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a><strong>webpack</strong></h1><h2 id="1-Plugin"><a href="#1-Plugin" class="headerlink" title="1.Plugin"></a>1.Plugin</h2><h3 id="1-1-定义"><a href="#1-1-定义" class="headerlink" title="1.1 定义"></a><strong>1.1 定义</strong></h3><p>loader是用于特定的模块类型进行转换 .vue-&gt;.js</p>
<p>Plugin用于执行更加广泛的任务，比如打包优化，资源管理，等等…</p>
<h3 id="1-2-CleanWebpackPlugin"><a href="#1-2-CleanWebpackPlugin" class="headerlink" title="1.2 CleanWebpackPlugin"></a><strong>1.2 CleanWebpackPlugin</strong></h3><p>就和output的clean:true效果一样。插件的使用也是两步，安装，配置</p>
<p>安装 npm i clean-webpack-plugin -D</p>
<p>然后配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;<span class="title class_">CleanWebpackPlugin</span>&#125; =<span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="comment">//其他配置省略</span></span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>()</span><br><span class="line">]</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-HtmlWebpackPlugin"><a href="#1-3-HtmlWebpackPlugin" class="headerlink" title="1.3 HtmlWebpackPlugin"></a><strong>1.3 HtmlWebpackPlugin</strong></h3><p>不太规范的地方，我们是在根目录下手动创建的一个html，但是最终打包后的文件中并没有index.html，进行项目部署的时候，必须要有一个index.html，所以我们也需要对html进行打包处理，使用另一个插件 :HtmlWebpackPlugin</p>
<p>安装：npm install html-webpack-plugin -D</p>
<p>配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line"><span class="attr">title</span>:<span class="string">&#x27;管理台项目&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">]</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>再次打包，发现页面也会打包处理，而且会自动引入js。但是我们的vue的模块没了，这是因为他默认是找<strong>ejs</strong>的一个模版的html</p>
<p><strong>自定义模版，</strong>往往默认的模版是不能够满足我们的需要的，所以我们需要自定义一个模版，比如vue&#x2F;react都会有一个 noscript标签，而且他们都需要挂载到根元素中 </p>
<p>我们自己编写的模版的html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">favicon.ico&quot; /&gt;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  &lt;%= htmlWebpackPlugin.options.title%&gt;</span><br><span class="line">  非常抱歉，请开启浏览器的设置允许js执行</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<p>里面会有类似&lt;%&#x3D; 变量%&gt;的语法，这个是EJS模版填充数据的方式，在配置htmlwebpackplugin的时候我们可以添加template属性来指定你要的模版</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">     <span class="attr">title</span>: <span class="string">&#x27;管理台项目&#x27;</span>,</span><br><span class="line">     <span class="comment">// 用自己的html作为模版</span></span><br><span class="line">     <span class="attr">template</span>: <span class="string">&#x27;./index.html&#x27;</span>,</span><br><span class="line">   &#125;),</span><br></pre></td></tr></table></figure>


<p>由于没有BASE_URL常量，所以会报错，我们需要定义这个常量–使用DefinePlugin插件</p>
<p>DefinePlugin不需要安装，他是一个webpack内置的插件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">DefinePlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line"><span class="attr">BASE_URL</span>:<span class="string">&quot;&#x27;./&#x27;&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line">]</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="2-mode配置"><a href="#2-mode配置" class="headerlink" title="2.mode配置"></a>2.<strong>mode配置</strong></h2><p>mode：’none’|’development’|’production’</p>
<p>none:默认不使用任何优化 而且打包后的页面会报错</p>
<p>development:不报错，页面能够正常运行，不会压缩代码</p>
<p>production:能运行，会采用默认的内置优化，压缩代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"><span class="attr">mode</span>:<span class="string">&#x27;none&#x27;</span></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="3-搭建本地开发环境"><a href="#3-搭建本地开发环境" class="headerlink" title="3.搭建本地开发环境"></a>3.<strong>搭建本地开发环境</strong></h2><p>目前我们写的代码，为了运行起来</p>
<ol>
<li><p>npm run build 打包相关的代码</p>
</li>
<li><p>live server或者是浏览器打开查看效果</p>
</li>
</ol>
<p>真实开发中这个过程手动操作会影响效率，我们希望可以自动打包并且展示</p>
<p>webpack中常用的自动编译插件是</p>
<p>webpack-dev-server</p>
<p>安装:npm i webpack-dev-server -D</p>
<p>配置 :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line"><span class="attr">hot</span>:<span class="literal">true</span>,</span><br><span class="line"><span class="attr">host</span>:<span class="string">&#x27;0.0.0.0&#x27;</span>,</span><br><span class="line"><span class="attr">port</span>:<span class="number">8888</span>,</span><br><span class="line"><span class="attr">open</span>:<span class="literal">false</span>,</span><br><span class="line"><span class="attr">compress</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>配置脚本</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>:&#123;</span><br><span class="line"><span class="string">&quot;serve&quot;</span>:<span class="string">&quot;webpack serve --config webpack.config.js&quot;</span>,</span><br><span class="line"><span class="string">&quot;build&quot;</span>:<span class="string">&quot;webpack --config webpack.config.js&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后我们访问对应的地址，修改模版的index.html，会发现他会自动打包.</p>
<h3 id="3-1-认识HMR模块热替换"><a href="#3-1-认识HMR模块热替换" class="headerlink" title="3.1 认识HMR模块热替换"></a><strong>3.1 认识HMR模块热替换</strong></h3><p>什么是HMR</p>
<ul>
<li>Hot Module Replacement,模块热替换，是指在程序运行过程中，替换，添加，删除，模块的时候不会重新刷新整个页面</li>
</ul>
<p>默认情况下，webpack-dev-server会开启HMR，如果你把hot设为false 当你修改代码后会导致整个页面重新更新。</p>
<p>框架中也有HMR，vue中使用的vue-loader能够提供.vue文件的HMR，react中之前是用的React Hot Loader，现在用的react-refresh</p>
<h3 id="3-2-host配置"><a href="#3-2-host配置" class="headerlink" title="3.2 host配置"></a><strong>3.2 host配置</strong></h3><p>设置主机地址：</p>
<ul>
<li><p>默认是localhost，如果希望其他设备也可以访问，设置为’0.0.0.0’</p>
</li>
<li><p>localhost和0.0.0.0的区别</p>
</li>
<li><p>localhost:本质上是一个域名，通常被解析为127.0.0.1(回环地址 Loop Back Address)自己主机发出去的包被自己接受。正常的数据包 需要经过 应用层-传输层-网络层-数据链路层-物理层；而回环地址是直接在网络层就获取到了，不经过数据链路层和物理层的。</p>
</li>
<li><p>0.0.0.0：监听IPV4上的所有的地址，再根据端口找到不同的应用程序，如果手机和电脑是同一个wifi，那么设置为0.0.0.0以后，手机可以访问</p>
</li>
</ul>
<p><img src="https://docimg4.docs.qq.com/image/AgAABlP525w6-QcqUVlHg5ez3Nmd0gJv.png?w=740&h=64" alt="img"></p>
<h3 id="3-3-port-open-compress"><a href="#3-3-port-open-compress" class="headerlink" title="3.3 port,open,compress"></a><strong>3.3 port,open,compress</strong></h3><p>port:设置监听的端口，默认是8080</p>
<p>open:是否自动打开浏览器 false&#x2F;true</p>
<p>compress:是否开启静态文件的压缩(gzip方式)</p>
<h2 id="4-区分环境"><a href="#4-区分环境" class="headerlink" title="4.区分环境"></a>4.<strong>区分环境</strong></h2><p>目前我们所有的配置都是放在webpack.config.js中</p>
<ul>
<li><p>当配置越来越多时，这一个文件会变得不好维护。</p>
</li>
<li><p>而且某些配置是在开发用的，某些配置是在生产环境用的，不管那个环境的配置都在同一个文件</p>
</li>
<li><p>我们需要对配置进行划分，方便维护和管理</p>
</li>
</ul>
<p>方式一：编写不同的配置文件，维护不同的js，但是会有重复的代码</p>
<p>方式二✅:将所有的配置文件统一放在config中进行管理，同时使用自动合并代码</p>
<p>在config文件夹中新建三个js文件</p>
<p><a target="_blank" rel="noopener" href="http://webpack.dev.config.js/">webpack.dev.config.js</a>: 存放开发配置</p>
<p><a target="_blank" rel="noopener" href="http://webpack.common.config.js/">webpack.common.config.js</a> ：存放公共配置</p>
<p>webpack.prod.config.js：存放生产配置</p>
<p><strong>入口文件的解析:</strong></p>
<p>我们测试发现，三个配置文件单独放到一个文件夹，出口的路径要改，但是入口的不能改</p>
<p>其实是由于webpack的一个entry的context属性，该属性用于解析入口(entry)和加载器(loader)</p>
<ul>
<li>默认是webpack的启动目录，也可以修改成其他的，但是最好不要</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>=&#123;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"> <span class="attr">context</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../&#x27;</span>),</span><br><span class="line"> <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>自动合并代码需要的插件：webpack-merge</p>
<p>安装：npm i webpack-merge -D</p>
<p>公共配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//任何环境都有的配置</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">VueLoaderPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;vue-loader/dist/index&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">DefinePlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;../dist&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(png|svg|gif|jpe?g)$/i</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;asset&#x27;</span>,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">30</span> * <span class="number">1024</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&#x27;img/[name]_[hash:8][ext]&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        <span class="attr">loader</span>: <span class="string">&#x27;vue-loader&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>, <span class="string">&#x27;.jsx&#x27;</span>, <span class="string">&#x27;.ts&#x27;</span>, <span class="string">&#x27;.tsx&#x27;</span>],</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./src&#x27;</span>),</span><br><span class="line">      <span class="attr">pages</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./src/pages&#x27;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">VueLoaderPlugin</span>(),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;管理台项目&#x27;</span>,</span><br><span class="line">      <span class="comment">// 用自己的html作为模版</span></span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./index.html&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">      <span class="attr">BASE_URL</span>: <span class="string">&quot;&#x27;./&#x27;&quot;</span>,</span><br><span class="line">      <span class="comment">//额外定义自己需要的一些变量</span></span><br><span class="line">      <span class="attr">alex</span>: <span class="string">&quot;&#x27;alexxxxxxxxxxx&#x27;&quot;</span>,</span><br><span class="line">      <span class="attr">counter</span>: <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<p>开发配置:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//开发配置</span></span><br><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.config&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(commonConfig, &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">hot</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// host: &#x27;0.0.0.0&#x27;,</span></span><br><span class="line">    <span class="comment">// port: 9999,</span></span><br><span class="line">    <span class="comment">// open: true,</span></span><br><span class="line">    <span class="comment">// compress: false,</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>生产配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生产环境的配置</span></span><br><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.config&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(commonConfig, &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>不要忘记修改package.json:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;serve&quot;</span>: <span class="string">&quot;webpack serve --config ./config/webpack.dev.config.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack --config ./config/webpack.prod.config.js&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="抽离和压缩css"><a href="#抽离和压缩css" class="headerlink" title="抽离和压缩css"></a><strong>抽离和压缩css</strong></h3><p>使用插件 mini-css-extract-plugin</p>
<p>安装：npm i mini-css-extract-plugin -D</p>
<p>配置:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//生产环境的配置</span></span><br><span class="line"><span class="keyword">const</span> &#123; merge &#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> commonConfig = <span class="built_in">require</span>(<span class="string">&#x27;./webpack.common.config&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">merge</span>(commonConfig, &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;production&#x27;</span>,</span><br><span class="line">  <span class="attr">module</span>: &#123;</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">        <span class="attr">use</span>: [<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="string">&#x27;css-loader&#x27;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//修改css的名字</span></span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">      <span class="comment">//contenthash用文件的内容去计算hash值</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;styles/[contenthash:8].css&#x27;</span>,</span><br><span class="line">    &#125;),  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>css确实抽出为文件，而且自动link了，但是没有压缩</p>
<p>压缩，使用插件 css-minimizer-webpack-plugin</p>
<p>安装：npm i css-minimizer-webpack-plugin -D</p>
<p>配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cssMinimizerPlugin = <span class="built_in">require</span>(<span class="string">&#x27;css-minimizer-webpack-plugin&#x27;</span>);</span><br><span class="line"><span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimizer</span>: [<span class="keyword">new</span> <span class="title function_">cssMinimizerPlugin</span>()],</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create </span><br></pre></td></tr></table></figure>


<p><img src="https://docimg9.docs.qq.com/image/AgAABlP525wMLz31nK5FD7ImL9kXPnqu.png?w=698&h=75" alt="img"></p>
<p>选择第三个</p>
<p><img src="https://docimg8.docs.qq.com/image/AgAABlP525yTqxsnBTdPJqh_ujprXXZR.png?w=1046&h=422" alt="img"></p>
<p><img src="https://docimg10.docs.qq.com/image/AgAABlP525wytjLat0dDC6Y10lIg93Zv.png?w=1094&h=320" alt="img"></p>
<p><img src="https://docimg6.docs.qq.com/image/AgAABlP525wFRqhgNUVJBKWbgSyZ3FY3.png?w=818&h=221" alt="img"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/08/b36%20webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/08/b36%20webpack/" class="post-title-link" itemprop="url">webpack尝试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-08 14:06:09" itemprop="dateCreated datePublished" datetime="2022-06-08T14:06:09+08:00">2022-06-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:02:34" itemprop="dateModified" datetime="2023-07-22T21:02:34+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><h2 id="1-path模块"><a href="#1-path模块" class="headerlink" title="1.path模块"></a>1.path模块</h2><h3 id="1-1-什么是path"><a href="#1-1-什么是path" class="headerlink" title="1.1 什么是path"></a>1.1 什么是path</h3><p>path模块用于对路径和文件进行处理，提供了许多方法</p>
<p>macOS和windows上路径的处理不一样，window会使用\或者\来作为路径的分割符号，macOS和linux使用&#x2F;，如果我们在window上开发使用\作为分割符号，部署到linux上显示的路径就会出现问题。所以为了解决他们之间的差异，在开发中对于路径的操作我们会使用path模块</p>
<h3 id="1-2-path常见的API"><a href="#1-2-path常见的API" class="headerlink" title="1.2 path常见的API"></a><strong>1.2 path常见的API</strong></h3><p>dirname 获取文件所在的路径</p>
<p>basename 文件名，有后缀</p>
<p>extname 后缀名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> filePath = <span class="string">&#x27;C://user/local/aabb.txt&#x27;</span>;</span><br><span class="line"><span class="comment">//获取文件路径</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">dirname</span>(filePath));</span><br><span class="line"><span class="comment">//带后缀的文件名 aabb.txt</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">basename</span>(filePath));</span><br><span class="line"><span class="comment">//获取文件后缀</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">extname</span>(filePath));</span><br></pre></td></tr></table></figure>

<p>路径的拼接：path.join</p>
<p>​	我们在拼接路径的时候，不同的操作系统使用不同的分隔符号，这时候我们要使用path.join方法来消除差异</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">//路径1</span></span><br><span class="line"><span class="keyword">const</span> path1 = <span class="string">&#x27;/abc/bbc&#x27;</span>;</span><br><span class="line"><span class="comment">//路径2</span></span><br><span class="line"><span class="keyword">const</span> path2 = <span class="string">&#x27;../jack/alex/kern.txt&#x27;</span>;</span><br><span class="line"><span class="comment">//我要拼接路径</span></span><br><span class="line"><span class="comment">//字符串的拼接</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path1 + path2);</span><br><span class="line"><span class="comment">//路径的拼接</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">join</span>(path1, path2));</span><br></pre></td></tr></table></figure>

<p>拼接绝对路径path.resolve(重要)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//resolve拼接多个路径，他的返回值一定是绝对路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//从右往左来解析，一旦遇到绝对路径就停止  /asdasda.js</span></span><br><span class="line"><span class="comment">//  /bbc.txt刚好就是绝对路径，所以直接返回</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">resolve</span>(<span class="string">&#x27;./abc/cba&#x27;</span>, <span class="string">&#x27;../jack/alex&#x27;</span>, <span class="string">&#x27;/bbc.txt&#x27;</span>));</span><br><span class="line"><span class="comment">//三个都不是</span></span><br><span class="line"><span class="comment">//不仅拼接了传入的三个路径，而且把工作区目录也加上</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">resolve</span>(<span class="string">&#x27;./abc/cba&#x27;</span>, <span class="string">&#x27;../jack/alex&#x27;</span>, <span class="string">&#x27;./bbc.txt&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//直接获取当前工作目录的绝对路径</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path.<span class="title function_">resolve</span>());</span><br></pre></td></tr></table></figure>

<h2 id="2-认识webpack"><a href="#2-认识webpack" class="headerlink" title="2.认识webpack"></a>2.<strong>认识webpack</strong></h2><h3 id="2-1-认识webpack的作用"><a href="#2-1-认识webpack的作用" class="headerlink" title="2.1 认识webpack的作用"></a><strong>2.1 认识webpack的作用</strong></h3><p>随着前端快速发展，目前前端的开发已经越来越复杂了</p>
<p>​	比如我们开发的时候会使用<strong>模块化</strong>开发</p>
<p>​	也会使用一些高级的ES6+的特性来<strong>加快开发效率或者提升安全性</strong></p>
<p>​	在开发过程中，我们希望<strong>实时监听文件的变化</strong>，并且反应到浏览器上</p>
<p>​	开发完成后，我们在部署代码之前需要<strong>压缩，丑化</strong>……</p>
<p>但是对于很多开发者而言，平常开发的时候并没有关心这些</p>
<p>​	因为目前开发的主流是react&#x2F;vue脚手架来开发，这些脚手架工具屏蔽掉了webpack的过程，提升了开发体验。vue-cli,create-react-app依赖了webpack。</p>
<h3 id="2-2-webpack到底是什么？"><a href="#2-2-webpack到底是什么？" class="headerlink" title="2.2 webpack到底是什么？"></a><strong>2.2 webpack到底是什么？</strong></h3><p>webpack is a <strong>static module bundler</strong> for <strong>modern</strong> JavaScript Applications</p>
<p>静态化模块打包工具</p>
<p>​	<strong>打包bundler</strong>:把代码压缩和丑化</p>
<p>​	<strong>静态static</strong>:可以把最终的打包的代码部署到静态服务器上运行</p>
<p>​	<strong>模块化</strong>:webpack默认支持各种模块化开发 ESModule和CJS</p>
<p>​	现代化：正是因为现在前端开发面临的各种问题，才导致了webpack的产生</p>
<h3 id="2-3-Vue项目加载的文件有哪些-了解，为vue做准备"><a href="#2-3-Vue项目加载的文件有哪些-了解，为vue做准备" class="headerlink" title="2.3 Vue项目加载的文件有哪些(了解，为vue做准备)"></a><strong>2.3 Vue项目加载的文件有哪些(了解，为vue做准备)</strong></h3><p>js的打包，css的处理,资源文件(比如img，字体…),HTML资源,处理vue项目里面的SFC文件—-.vue文件</p>
<h3 id="2-5-webpack使用的前提"><a href="#2-5-webpack使用的前提" class="headerlink" title="2.5 webpack使用的前提"></a><strong>2.5 webpack使用的前提</strong></h3><p>webpack运行是依赖node，所以电脑上必须安装好node。</p>
<p>mac:n管理不同的node版本 </p>
<p>windows:nvm管理不同的node版本</p>
<p>webpack的官方文档: <a target="_blank" rel="noopener" href="https://webpack.js.org/">https://webpack.js.org/</a></p>
<p>webpack的中文文档: <a target="_blank" rel="noopener" href="https://webpack.docschina.org/">https://webpack.docschina.org/</a></p>
<h2 id="3-webpack的使用"><a href="#3-webpack的使用" class="headerlink" title="3.webpack的使用"></a>3.<strong>webpack的使用</strong></h2><h3 id="3-1-安装webpack"><a href="#3-1-安装webpack" class="headerlink" title="3.1 安装webpack"></a><strong>3.1 安装webpack</strong></h3><p>会发现需要安装两个东西才能正确查看版本号，使用webpack</p>
<p>webpack, webpack-cli是什么关系</p>
<p>​	执行webpack命令的时候，执行node_modules下的**.bin**下面的webpack；</p>
<p>​	webpack在执行的时候又依赖webpack-cli，所以执行webpack-cli中的代码才是真正利用webpack打包的过程 vue-service-cli</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli -g #全局安装</span><br><span class="line">npm install webpack webpack-cli -D #局部安装</span><br></pre></td></tr></table></figure>

<h3 id="3-2-webpack的默认打包"><a href="#3-2-webpack的默认打包" class="headerlink" title="3.2 webpack的默认打包"></a><strong>3.2 webpack的默认打包</strong></h3><p>创建示例代码</p>
<p>src&#x2F;utils&#x2F;math.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>src&#x2F;index.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sum &#125; <span class="keyword">from</span> <span class="string">&#x27;./utils/math&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">bar</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bar函数执行了～～～～～&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">bar</span>();</span><br><span class="line"><span class="title function_">bar</span>();</span><br><span class="line"><span class="title function_">bar</span>();</span><br></pre></td></tr></table></figure>

<p>然后在终端中打开对应目录，直接输入webpack回车，就会打包。</p>
<p>打包以后会多出来一个dist文件夹，里面放了一个main.js就是丑化压缩以后的代码。</p>
<p>实际上我们运行webpack命令的时候，默认是找src&#x2F;index.js。也可以打包的时候指定<strong>入口(entry)<strong>和</strong>出口(output)</strong> </p>
<p>npx webpack –entry .&#x2F;src&#x2F;haha.js –output-path .&#x2F;build</p>
<p>entry:也就是从那个文件开始构建依赖关系，这个文件就是入口</p>
<p>output:打包后的代码要放到哪里–出口</p>
<h3 id="3-3-使用局部的webpack打包"><a href="#3-3-使用局部的webpack打包" class="headerlink" title="3.3 使用局部的webpack打包"></a><strong>3.3 使用局部的webpack打包</strong></h3><p>第一步：创建package.json，用于管理项目相关的信息，库依赖……</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure>

<p>第二步:安装局部webpack</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack webpack-cli -D</span><br></pre></td></tr></table></figure>


<h3 id="3-4-webpack的配置文件"><a href="#3-4-webpack的配置文件" class="headerlink" title="3.4 webpack的配置文件"></a><strong>3.4 webpack的配置文件</strong></h3><p>老是用命令行的方式去管理一些打包配置不可取，不合理，默认的配置往往满足不了我们实际的打包需求</p>
<p>就在项目根目录下面手动创建一个webpack.config.js的文件,填写一些配置信息</p>
<p>webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">//导出所有配置信息给webpack打包用</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">//入口</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/haha.js&#x27;</span>,</span><br><span class="line">  <span class="comment">//出口</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="comment">//打包以后的文件名</span></span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">    <span class="comment">//打包以后的代码输出路径</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;./build&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>因为配置信息都在上述js中，所以package.json中的scripts的命令不再需要配置相关的信息</p>
<p><img src="https://docimg9.docs.qq.com/image/AgAABlP525wPyCS7SmBEvYrPw1UoRG3H.png?w=248&h=85" alt="img"></p>
<h3 id="3-5-指定配置文件"><a href="#3-5-指定配置文件" class="headerlink" title="3.5 指定配置文件"></a><strong>3.5 指定配置文件</strong></h3><p>配置文件默认是找webpack.config.js，我们也可以自定义，如果想使用自定义的配置，只需要修改脚本即可</p>
<p><img src="https://docimg6.docs.qq.com/image/AgAABlP525yUuCnRnjhN77UUF-XJiGoO.png?w=476&h=85" alt="img"></p>
<h2 id="4-编写和打包css文件"><a href="#4-编写和打包css文件" class="headerlink" title="4.编写和打包css文件"></a>4.<strong>编写和打包css文件</strong></h2><h3 id="4-1-案例代码"><a href="#4-1-案例代码" class="headerlink" title="4.1 案例代码"></a><strong>4.1 案例代码</strong></h3><p>src&#x2F;component.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在webpack 万物皆模块,所以css也可以当作模块引入</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./css/index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">component</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">  el.<span class="property">innerHTML</span> = <span class="string">&#x27;hello webpack&#x27;</span>;</span><br><span class="line">  el.<span class="property">className</span> = <span class="string">&#x27;content&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> el;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(<span class="title function_">component</span>());</span><br></pre></td></tr></table></figure>

<p>src&#x2F;css&#x2F;index.css</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">content</span> &#123;</span><br><span class="line">  <span class="attr">width</span>: 100px;</span><br><span class="line">  <span class="attr">height</span>: 100px;</span><br><span class="line">  background-<span class="attr">color</span>: skyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>记得修改打包配置文件,只需要修改入口文件即可</p>
<p>jack.config.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="comment">//导出所有配置信息给webpack打包用</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">//入口</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/component.js&#x27;</span>,</span><br><span class="line"> <span class="comment">//...</span></span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/06/b35%20%E5%89%8D%E7%AB%AF%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/06/b35%20%E5%89%8D%E7%AB%AF%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">前端常用的包管理工具有哪些?</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-06 14:06:09" itemprop="dateCreated datePublished" datetime="2022-06-06T14:06:09+08:00">2022-06-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:02:20" itemprop="dateModified" datetime="2023-07-22T21:02:20+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="前端包管理工具"><a href="#前端包管理工具" class="headerlink" title="前端包管理工具"></a><strong>前端包管理工具</strong></h1><h2 id="1-npm包管理工具"><a href="#1-npm包管理工具" class="headerlink" title="1.npm包管理工具"></a>1.npm包管理工具</h2><h3 id="1-1-代码共享方案"><a href="#1-1-代码共享方案" class="headerlink" title="1.1 代码共享方案"></a><strong>1.1 代码共享方案</strong></h3><p>要理解包管理工具，就要理解代码共享方案。所谓的包管理工具就是管理依赖包(node_modules) 用的。</p>
<p>在js中我们可以通过模块化将代码划分为一个个小的结构，在以后的开发中我们可以利用模块化来封装自己的代码，并且封装成一个<strong>工具</strong>，这个工具可以让其他人通过导入的方式来使用，甚至你可以分享给世界各地的程序员来使用。</p>
<p>方案一：上传到github,其他程序员通过github下载我们的代码手动的引用</p>
<p>​	缺点要用你代码的人必须知道你的github地址，而且要手动从github上下载</p>
<p>​	需要在项目中手动的引用，而且需要手动管理相关的依赖</p>
<p>​	不需要使用了，手动删除相关的依赖</p>
<p>​	当版本升级或者切换的时候，重复上述操作 —– <strong>可以用</strong></p>
<p>方案二：使用一个<strong>专业的工具</strong>来管理我们的代码</p>
<p>​	我们通过工具把代码发布到特定的位置(npm registry)，其他使用者可以通过工具(npm)来安装，升级，删除我们的工具包 — 更好</p>
<p>具体有哪些包:<a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a></p>
<h3 id="1-2-包管理工具npm"><a href="#1-2-包管理工具npm" class="headerlink" title="1.2 包管理工具npm"></a><strong>1.2 包管理工具npm</strong></h3><p>早期起名字的时候，因为他最开始出现是用于node，所以叫他Node Package Manager，node包管理器。目前很多前端项目都是用他来管理的</p>
<p><strong>npm的下载：</strong></p>
<p>​	需要先安装node，安装node的过程会自动安装npm</p>
<p><strong>npm有哪些包</strong></p>
<p>​	<a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a></p>
<p><strong>npm的包放在哪里</strong></p>
<p>​	发布的包是存放在一个特殊的仓库(registry)，当我们安装一个包的时候(npm install xxx)的时候实际上是在从registry上面下载对应的包</p>
<h2 id="2-package配置文件"><a href="#2-package配置文件" class="headerlink" title="2.package配置文件"></a>2.package配置文件</h2><h3 id="2-1-npm的配置文件"><a href="#2-1-npm的配置文件" class="headerlink" title="2.1 npm的配置文件"></a><strong>2.1 npm的配置文件</strong></h3><p>对于一个项目而言，我们使用npm来管理所有的依赖包，除了依赖包之外，我们的项目还有很多信息，名称，版本号，项目描述…,有一个东西来记录这些信息，这个文件叫做**package.json ,**这个配置文件记录项目相关的所有信息</p>
<p>自动生成package.json有两种方式，</p>
<p>方式一:手动从零开始创建新的项目</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm init #创建时填写信息 一步步填 很多信息都是默认的直接回车</span><br><span class="line">npm init -y #所有信息都用默认的</span><br></pre></td></tr></table></figure>

<p>方式二：通过脚手架创建项目，脚手架会帮我们自动生成<strong>package.json</strong></p>
<p>通过vue的脚手架创建项目,vue的记得按一下y</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create &lt;project_name&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-常用的属性"><a href="#2-2-常用的属性" class="headerlink" title="2.2 常用的属性"></a><strong>2.2 常用的属性</strong></h3><p><strong>必填的属性：name，version</strong></p>
<p><strong>name</strong>是项目的名称</p>
<p><strong>version</strong>是项目的版本号</p>
<p>description描述信息</p>
<p>author作者信息(发布时要用到)</p>
<p>license开源协议(发布时用到)</p>
<p>private记录当前项目是否是私有的，当为true时，无法发布，主要是防止私有项目或者模块或者工具意外的误操作发布出去。</p>
<p>main属性设置程序的入口 </p>
<p><strong>script属性</strong>：用于配置一些脚本命令，以key-value的形式</p>
<p><img src="https://docimg8.docs.qq.com/image/AgAABlP525w_UmChlVFFtb_rmEeaYcUj.png?w=467&h=153" alt="img"></p>
<p>​	某些特殊的命令可以不用npm run start 直接npm start即可 <strong>start test stop restart</strong>都可以省略run</p>
<p><strong>dependencies ：</strong>记录项目不论是开发环境还是生产环境都需要的依赖包以及对应的版本</p>
<p>默认<strong>npm i xxx</strong> 会添加进去</p>
<p>通常是项目实际开发用到的一些库&#x2F;模块 <strong>vue,vuex,vue-router,react,react-dom,axios</strong>….</p>
<p><strong>devDependencies :</strong> 记录项目的开发环境依赖，安装依赖的时候 <strong>npm install xxx –save-dev&#x2F;npm i xxx -D</strong> </p>
<p>​	通常是项目开发时需要的一些库&#x2F;模块 <strong>webpack,babel</strong></p>
<p><strong>开发依赖&#x2F;生产依赖</strong>：</p>
<p><img src="https://docimg6.docs.qq.com/image/AgAABlP525wzvansIbtJybWo0jfrATct.png?w=900&h=424" alt="img"></p>
<h3 id="2-3-依赖的版本管理-了解"><a href="#2-3-依赖的版本管理-了解" class="headerlink" title="2.3 依赖的版本管理(了解)"></a><strong>2.3 依赖的版本管理(了解)</strong></h3><p>我们在package.json中发现依赖后面有版本号，有的是^开头还有的是～</p>
<p>npm的包通常要遵循semver规范:<a target="_blank" rel="noopener" href="https://semver.org/lang/zh-CN/">https://semver.org/lang/zh-CN/</a> </p>
<p>semver版本规范 X.Y.Z</p>
<p>​	X是主版本号(major):做了不兼容的API修改(不兼容之前的版本) </p>
<p>​	Y是次版本号(minor):做了兼容的功能新增</p>
<p>​	Z是修订号(patch)：没有新功能，修复以前版本的bug</p>
<h2 id="3-npm-install原理"><a href="#3-npm-install原理" class="headerlink" title="3.npm install原理"></a>3.npm install原理</h2><h3 id="3-1-npm-install-命令"><a href="#3-1-npm-install-命令" class="headerlink" title="3.1 npm install 命令"></a><strong>3.1 npm install 命令</strong></h3><p>安装npm包分两种情况</p>
<p>​	全局安装 npm install webpack -g.往往全局安装的是一些工具包yarn,webpack并不是类似dayjs,axios等库文件，不要认为你全局安装了axios，在任意项目里面都能使用axios</p>
<p>​	局部安装 npm install webpack </p>
<p>全局装一下webpack：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack -g</span><br><span class="line">npm i webpack-cli -g</span><br><span class="line">webpack --version #查看版本号</span><br></pre></td></tr></table></figure>

<h3 id="3-2-项目安装"><a href="#3-2-项目安装" class="headerlink" title="3.2 项目安装"></a><strong>3.2 项目安装</strong></h3><p>安装依赖的时候会在当前目录下生成一个node_modules的文件夹，我们在require查找细节中讲过</p>
<p>项目安装依赖的时候分为开发时的依赖和生产时候的依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#默认两个环境都要</span><br><span class="line">npm install axios</span><br><span class="line">npm i axios</span><br><span class="line"># 开发依赖</span><br><span class="line">npm install webpack --save-dev</span><br><span class="line">npm install webpack -D</span><br><span class="line">npm i webpack -D</span><br><span class="line"># 根据package.json 自动安装依赖</span><br><span class="line">npm install</span><br><span class="line">npm i</span><br></pre></td></tr></table></figure>

<h3 id="3-3-npm-install-的过程"><a href="#3-3-npm-install-的过程" class="headerlink" title="3.3 npm install 的过程"></a><strong>3.3 npm install 的过程</strong></h3><p>我们会发现一些项目安装的时候会有package-lock.json，他的作用：<strong>锁版本</strong>和<strong>缓存 。</strong>这个package-lock.json在上传到git的时候尽量不要提交他，因为这个文件不同的电脑不同的设备环境生成的都不一致。</p>
<p>过程图:</p>
<p><img src="https://docimg10.docs.qq.com/image/AgAABlP525zRzGoIoF1AUbvuoocM29Ji.png?w=944&h=170" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 查看自己的npm镜像</span><br><span class="line">npm config get registry</span><br><span class="line"># 设置为官方的镜像</span><br><span class="line">npm config set registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>

<h3 id="3-4-npm的其他命令"><a href="#3-4-npm的其他命令" class="headerlink" title="3.4 npm的其他命令"></a><strong>3.4 npm的其他命令</strong></h3><p>卸载某个依赖包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall package_name</span><br><span class="line">npm uninstall package_name -D</span><br><span class="line">npm uninstall package_name -g</span><br><span class="line"># 清除缓存</span><br><span class="line">npm cache clean</span><br></pre></td></tr></table></figure>

<p>npm 命令 <a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/commands/">https://docs.npmjs.com/cli/v9/commands/</a></p>
<h2 id="4-yarn、cnpm、npx"><a href="#4-yarn、cnpm、npx" class="headerlink" title="4.yarn、cnpm、npx"></a>4.yarn、cnpm、npx</h2><h3 id="4-1-yarn"><a href="#4-1-yarn" class="headerlink" title="4.1 yarn"></a><strong>4.1 yarn</strong></h3><p>另一个包管理工具，主要是解决npm的安装依赖速度慢的问题，版本混乱的问题。虽然从npm6开始，有很多升级和改进，但是还是有很多人喜欢用yarn</p>
<p>安装yarn</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install yarn -g</span><br></pre></td></tr></table></figure>

<p>yarn的使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 项目内已经有yarn.lock</span><br><span class="line">yarn install</span><br><span class="line"># 使用yarn安装依赖</span><br><span class="line">yarn add package_name -D</span><br><span class="line"># yarn卸载依赖</span><br><span class="line">yarn remove package_name -g </span><br><span class="line"># yarn清除缓存</span><br><span class="line">yarn cache clean</span><br></pre></td></tr></table></figure>

<h3 id="4-2-cnpm"><a href="#4-2-cnpm" class="headerlink" title="4.2 cnpm"></a>4.2 cnpm</h3><p>由于某些特殊原因，某些情况下我们不能直接从npm的官方镜像下载依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 查看自己的npm镜像</span><br><span class="line">npm config get registry</span><br><span class="line"># 设置为官方的镜像</span><br><span class="line">npm config set registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>

<p>方便你有一个非官方的镜像</p>
<p>安装并制定cnpm的镜像为淘宝镜像</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 安装并设置为淘宝镜像</span><br><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br><span class="line"># 查看cnpm的镜像</span><br><span class="line">cnpm config get registry</span><br><span class="line"># 修改cnpm的镜像</span><br><span class="line">cnpm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<h3 id="4-3-npx工具"><a href="#4-3-npx工具" class="headerlink" title="4.3 npx工具"></a>4.3 npx工具</h3><p>npx是npm5.2之后的自带的一个命令，他的作用非常的多.默认使用当前项目目录下的依赖而不需要<code>./node_modules/.bin/webpack --version</code></p>
<p>更简单的使用 npx webpack –version</p>
<p>npx只会查找当前目录的node_modules&#x2F;.bin 下面的命令 </p>
<h2 id="5-发布自己的包"><a href="#5-发布自己的包" class="headerlink" title="5.发布自己的包**"></a>5.发布自己的包**</h2><p>作业注册npm帐号</p>
<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com/</a></p>
<h2 id="6-pnpm"><a href="#6-pnpm" class="headerlink" title="6.pnpm**"></a>6.pnpm**</h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/06/04/b34%20JavaScript%E6%A8%A1%E5%9D%97%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/04/b34%20JavaScript%E6%A8%A1%E5%9D%97%E5%8C%96/" class="post-title-link" itemprop="url">javascript模块化的概念</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-04 14:06:09" itemprop="dateCreated datePublished" datetime="2022-06-04T14:06:09+08:00">2022-06-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:02:11" itemprop="dateModified" datetime="2023-07-22T21:02:11+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>8 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JavaScript模块化"><a href="#JavaScript模块化" class="headerlink" title="JavaScript模块化"></a>JavaScript模块化</h1><h2 id="1-认识模块化开发和模块化发展的历史"><a href="#1-认识模块化开发和模块化发展的历史" class="headerlink" title="1.认识模块化开发和模块化发展的历史"></a>1.<strong>认识模块化开发和模块化发展的历史</strong></h2><h3 id="1-1-什么是模块化"><a href="#1-1-什么是模块化" class="headerlink" title="1.1 什么是模块化"></a><strong>1.1 什么是模块化</strong></h3><p>将程序划分成<strong>一个个小的结构，</strong>在对应的结构中编写属于自己的逻辑代码，<strong>有自己的作用域</strong>，定义变量时候不会影响到其他的结构。这个结构里面可以把自己的变量&#x2F;函数给其他结构用，其他结构也可以用变量&#x2F;函数。结构—模块，这种结构划分的开发方式，就叫做模块化开发</p>
<p>以前写的一个个单独的js通过script引入，并不是模块化，只是做到了拆分，并没有自己的作用域，更加没有<strong>导入导出</strong>的功能</p>
<h3 id="1-2-模块化的历史"><a href="#1-2-模块化的历史" class="headerlink" title="1.2 模块化的历史"></a><strong>1.2 模块化的历史</strong></h3><p>早期的网页开发中，js只是用来做表单验证&#x2F;一些动画，代码很少，甚至有的网页js代码就一两行。</p>
<p>但是目前，js代码变得复杂，比如<strong>ajax</strong>的出现，前后端分离，后端返回数据前端需要通过js渲染；<strong>SPA(Single Page Application)<strong>的出现使得前端的代码更加复杂了，包括路由管理，状态的管理；以及</strong>node</strong>的出现，可以用js来编写后端代码，没有模块化是一个硬伤。</p>
<p>JS本身直到es6我们的ECMA Script才有<strong>ES Module，</strong>在此之前社区有很多规范AMD，CMD，CommonJS。</p>
<p>重点掌握<strong>ES Module，Commonjs</strong></p>
<p>早期的方案iife+return</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleRole = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> name = <span class="string">&#x27;这是role模块&#x27;</span>;</span><br><span class="line">  <span class="keyword">let</span> age = <span class="number">28</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    name,</span><br><span class="line">    age,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>看似ok了，实际上问题很大</p>
<ol>
<li><p>我必须记住每一个模块中返回的对象命名，才能正确使用</p>
</li>
<li><p>代码写起来混乱不堪，每个模块的代码都得放在一个立即执行函数中</p>
</li>
<li><p>没有合适的规范的情况下，每个人，每个公司的命名都不一致，有时候还是会命名冲突</p>
</li>
</ol>
<p>我们实现的模块化太过简单，而且没有规范，我们就需要一定的规范来约束代码。这个规范需要核心功能如下：<strong>模块本身可以导出需要暴露的属性，方法，模块本身又可以导入其他模块的属性和方法。而且要保证命名不冲突</strong></p>
<h2 id="2-CommonJS和Node"><a href="#2-CommonJS和Node" class="headerlink" title="2.CommonJS和Node"></a>2.CommonJS和Node</h2><h3 id="2-1-CommonJS和Node的关系"><a href="#2-1-CommonJS和Node的关系" class="headerlink" title="2.1 CommonJS和Node的关系"></a><strong>2.1 CommonJS和Node的关系</strong></h3><p>CommonJS是一个规范，最初提出来是在浏览器以外的地方使用的，并且最初的命名是**ServerJS,**后来为了体现他的广泛性改为CommonJS，平常也有一种叫法–CJS</p>
<p>node是CommonJS在服务端一个具有代表性的实现</p>
<p>Browserify是CommonJS在浏览器端的一个实现(现在已经没有使用了)</p>
<p>webpack打包工具具备对CommonJS的支持和转换(webpack里面既可以使用CommonJS也可以使用ES Module)</p>
<p>最主要的两个内容：导出exports关键字，导入require关键字</p>
<p>在node中每个js文件都是一个单独的模块，exports，module.exports,require这三个关键字可以帮助我们进行模块化开发。</p>
<h3 id="2-2-案例"><a href="#2-2-案例" class="headerlink" title="2.2 案例"></a><strong>2.2 案例</strong></h3><p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//require是一个函数</span></span><br><span class="line"><span class="comment">//接收整个util模块 的所有导出</span></span><br><span class="line"><span class="comment">// const util = require(&#x27;./util.js&#x27;);</span></span><br><span class="line"><span class="comment">// console.log(util); //&#123; username: &#x27;alex&#x27; &#125;</span></span><br><span class="line"><span class="comment">// console.log(util.username); //alex</span></span><br><span class="line"><span class="comment">// util.foo();</span></span><br><span class="line"><span class="comment">// console.log(util.age);</span></span><br><span class="line"><span class="comment">// console.log(util.height);</span></span><br><span class="line"><span class="comment">//解构</span></span><br><span class="line"><span class="keyword">const</span> &#123; username, age, height, foo &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./util.js&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(username, age, height);</span><br><span class="line"><span class="title function_">foo</span>();</span><br></pre></td></tr></table></figure>

<p>util.js:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> username = <span class="string">&#x27;alex&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">const</span> height = <span class="number">1.88</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//导出给其他模块使用</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">username</span> = username;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">foo</span> = foo;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">age</span> = age;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">height</span> = height;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-exports导出"><a href="#2-3-exports导出" class="headerlink" title="2.3 exports导出"></a>2.3 exports导出</h3><p>exports是一个对象，我们可以在这个对象里面添加多个属性，添加的属性都会导出</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">username</span> = username;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">foo</span> = foo;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">age</span> = age;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">height</span> = height;</span><br></pre></td></tr></table></figure>

<p>在另一个文件里面可以导入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; username, age, height, foo &#125; = <span class="built_in">require</span>(<span class="string">&#x27;./util.js&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>上面的exports和require完成了什么操作，<strong>引用赋值</strong></p>
<p>main中的util变量和exports对象指向同一个地址</p>
<p><img src="https://docimg4.docs.qq.com/image/AgAABlP525zF0bnLKQ5CC5HHTt5fg6Tn.png?w=636&h=293" alt="img"></p>
<h3 id="2-4-module-exports导出"><a href="#2-4-module-exports导出" class="headerlink" title="2.4 module.exports导出"></a>2.4 module.exports导出</h3><p>在node中往往我们看到的都是写的module.exports,而且开发里面用的多的也是这个</p>
<p><img src="https://docimg6.docs.qq.com/image/AgAABlP525wLKRD2N0NMwIFXqcUz7K3I.png?w=926&h=467" alt="img"></p>
<p>node导出的本质是在<strong>导出module.exports对象</strong> ，为什么exports也能导出？</p>
<p>因为module对象的exports属性是exports对象的一个引用 module.exports &#x3D;&#x3D;&#x3D; exports</p>
<p>uitl.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> username = <span class="string">&#x27;alex&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">const</span> height = <span class="number">1.88</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//开发中往往使用的是module.exports</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// //导出</span></span><br><span class="line"><span class="comment">// module.exports.username = username;</span></span><br><span class="line"><span class="comment">//实际写法</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  username,</span><br><span class="line">  age,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>既然有了module.exports &#x3D; {}导出的写法，exports还弄出来干嘛？在CJS的规范中是没有module.exports这个概念，但是为了实现模块的导出，node中使用的是Module类，每一个模块都是Module类的实例，也就是module,所以node中真正用于导出的根本不是exports而是module.exports，只不过node做了一个操作，默认情况下exports和module.exports相等</p>
<h2 id="3-require的细节"><a href="#3-require的细节" class="headerlink" title="3.require的细节"></a>3.require的细节</h2><p>require是一个函数，可以帮助我们引入一个文件(模块)中导出的内容</p>
<p>require的查找细节，require到底是怎么找到我们的模块，按什么样的规则去找</p>
<p>我们假定都是<code>**require(X)**</code>的导入</p>
<h3 id="3-1-三种情况"><a href="#3-1-三种情况" class="headerlink" title="3.1 三种情况"></a><strong>3.1 三种情况</strong></h3><h4 id="3-1-1-情况一：X是一个Node内置的模块，比如path-路径-，fs-读取文件-，http-请求"><a href="#3-1-1-情况一：X是一个Node内置的模块，比如path-路径-，fs-读取文件-，http-请求" class="headerlink" title="3.1.1 情况一：X是一个Node内置的模块，比如path(路径)，fs(读取文件)，http(请求)"></a><strong>3.1.1 情况一：X是一个Node内置的模块，比如path(路径)，fs(读取文件)，http(请求)</strong></h4><p>直接返回内置模块，并且立即停止查找。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(path);</span><br></pre></td></tr></table></figure>

<h4 id="3-1-2-情况二：X是以-x2F-或者-x2F-或者-x2F-根目录-开头的"><a href="#3-1-2-情况二：X是以-x2F-或者-x2F-或者-x2F-根目录-开头的" class="headerlink" title="3.1.2 情况二：X是以.&#x2F;或者..&#x2F;或者&#x2F;(根目录)开头的"></a><strong>3.1.2 情况二：X是以.&#x2F;或者..&#x2F;或者&#x2F;(根目录)开头的</strong></h4><p> 第一步：将X当作一个文件在对应的目录下查找</p>
<ol>
<li><p>如果有后缀名(.js .html .md)按照后缀名的格式去找对应的文件</p>
</li>
<li><p>如果没有后缀名</p>
</li>
</ol>
<p> a.直接查找文件X</p>
<p> b.查找X.js文件</p>
<p> c.查找X.json文件</p>
<p> d. 查找X.node文件</p>
<p> 第二步：如果第一步都没有找到，将X当作一个目录</p>
<p>默认查找目录下的index文件</p>
<ol>
<li><p>查找X&#x2F;index.js文件</p>
</li>
<li><p>查找X&#x2F;index.json文件</p>
</li>
<li><p>查找X&#x2F;index.node文件</p>
</li>
</ol>
<p> 如果还没有找到，那就会报错:not found</p>
<h4 id="3-1-3-情况三：直接就是一个X，没有路径，没有后缀，并且X不是一个内置模块"><a href="#3-1-3-情况三：直接就是一个X，没有路径，没有后缀，并且X不是一个内置模块" class="headerlink" title="3.1.3 情况三：直接就是一个X，没有路径，没有后缀，并且X不是一个内置模块"></a>3.1.3 情况三：直接就是一个X，没有路径，没有后缀，并且X不是一个内置模块</h4><p>按照对应的路径去查找node_modules里面是否有</p>
<p><img src="https://docimg2.docs.qq.com/image/AgAABlP525xCkkiYf-ROeooPzG5HtlU1.png?w=1094&h=249" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios</span><br></pre></td></tr></table></figure>





<p>利用npm去registry的库里面下载axios到我们的node_modules里面</p>
<ol>
<li><p>为什么后面在webpack，vue里面我们直接 npm install xxx以后能够导入使用</p>
</li>
<li><p>什么时候能够省略后缀，什么时候直接写文件夹名字</p>
</li>
</ol>
<h3 id="3-2-模块的加载过程"><a href="#3-2-模块的加载过程" class="headerlink" title="3.2 模块的加载过程"></a>3.2 模块的加载过程</h3><p><strong>结论一：模块在第一次引入的时候，模块中的js代码会被运行一次</strong></p>
<p><strong>结论二：模块多次引入，会缓存，最终只加载(代码运行)一次</strong></p>
<p>原因：每个模块对象module上面都有一个loaded的属性，为false表明还没有加载，为true表明已经加载过了</p>
<p>结论三：如果模块之间有循环引入，那么加载顺序是什么？(了解) <strong>DFS顺序</strong></p>
<p><img src="https://docimg3.docs.qq.com/image/AgAABlP525x4B3726WpOdZHqLS4L5FtV.png?w=593&h=464" alt="img"></p>
<p>这其实是一种<strong>图结构，</strong>对于图结构的遍历，有深度优先搜索(DFS)和广度优先搜索(BFS),Node采用是深度优先。</p>
<h2 id="4-AMD和CMD"><a href="#4-AMD和CMD" class="headerlink" title="4.AMD和CMD"></a>4.AMD和CMD</h2><h3 id="4-1-CommonJS的缺点"><a href="#4-1-CommonJS的缺点" class="headerlink" title="4.1 CommonJS的缺点"></a>4.1 CommonJS的缺点</h3><p>CommonJS加载模块是同步的：只有等到对应的模块加载完毕，当前模块中的内容才能被运行，后续加载的模块才能开始加载，在服务端没问题，服务器加载js都是加载的本地文件。如果应用到浏览器，那就有问题。所以在浏览器中不使用CJS，注意webpack中使用CJS是另一种情况，webpack会把代码转成浏览器可以直接执行的代码。早期为了可以在浏览器中使用模块化，我们会使用AMD或者CMD(了解)</p>
<h3 id="4-2-AMD规范"><a href="#4-2-AMD规范" class="headerlink" title="4.2 AMD规范"></a>4.2 AMD规范</h3><p>AMD是异步模块定义的缩写，它采用的是异步加载模块。</p>
<p>AMD常用的库是require.js和curl.js</p>
<p>具体实例看压缩包</p>
<p>data-main指定入口文件</p>
<h3 id="4-3-CMD规范"><a href="#4-3-CMD规范" class="headerlink" title="4.3 CMD规范"></a>4.3 CMD规范</h3><p>CMD是通用模块定义的缩写，它也是采用异步加载模块，但是他吸收了CJS的优点</p>
<p>SeaJS库</p>
<p>如果做node开发用CJS，写html页面就用ES </p>
<h2 id="5-ES-Module"><a href="#5-ES-Module" class="headerlink" title="5.ES Module"></a>5.ES Module</h2><p>目前我们都是在node中使用模块化，如果要在浏览器里面使用，有两种办法</p>
<ol>
<li><p>使用ES module，但是在不支持ES module的浏览器上用不了</p>
</li>
<li><p>使用webpack</p>
</li>
</ol>
<h3 id="5-1-认识ES-Module"><a href="#5-1-认识ES-Module" class="headerlink" title="5.1 认识ES Module"></a>5.1 认识ES Module</h3><p>ESModule和CJS的模块化有一些不同</p>
<p>他使用了import导入，export导出</p>
<p>他采用编译期的静态分析，而且也支持动态引用</p>
<p>注意：一旦使用ES Module，将自动开启严格模式</p>
<h3 id="5-2-案例"><a href="#5-2-案例" class="headerlink" title="5.2 案例"></a>5.2 案例</h3><p>第一：记得给script标签加上type&#x3D;’module’</p>
<p>第二：记得以服务器的形式打开html，Live Server</p>
<h3 id="5-3-export导出"><a href="#5-3-export导出" class="headerlink" title="5.3 export导出"></a>5.3 export导出</h3><p>导出方式一：在语句的前面直接加上export关键字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&#x27;alex&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>导出方式二:将所有需要导出的标识符，放到export后面的{}里面</p>
<p>注意{}<strong>不是对象！不是对象！不是对象！</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;alex&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这里的&#123;&#125;不是对象！不是对象！不是对象！</span></span><br><span class="line"><span class="keyword">export</span> &#123; name, age, bar &#125;;</span><br></pre></td></tr></table></figure>

<p>导出方式三:导出的时候给标识符起一个别名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;alex&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; name <span class="keyword">as</span> fname, age, bar &#125;;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-import-关键字"><a href="#5-4-import-关键字" class="headerlink" title="5.4 import 关键字"></a><strong>5.4 import 关键字</strong></h3><p>导入方式一：import {标识符列表} from “模块”</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在浏览器中使用es module必须加上后缀名</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, age, bar &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo.js&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name, age);</span><br><span class="line"><span class="title function_">bar</span>();</span><br></pre></td></tr></table></figure>

<p>导入方式二：起别名 通过as关键字</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; name <span class="keyword">as</span> fname, age, bar &#125; <span class="keyword">from</span> <span class="string">&#x27;./foo.js&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fname, age);</span><br></pre></td></tr></table></figure>

<p>导入方式三：导入的时候给整个模块起一个别名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> foo <span class="keyword">from</span> <span class="string">&#x27;./foo.js&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">name</span>, foo.<span class="property">age</span>);</span><br><span class="line">foo.<span class="title function_">bar</span>();</span><br></pre></td></tr></table></figure>

<p>用的多的方式</p>
<p>导出：export {标识符列表}，声明时直接导出</p>
<p>导入：import {需要的标识符}，起别名</p>
<h3 id="5-5-export和import结合使用-了解"><a href="#5-5-export和import结合使用-了解" class="headerlink" title="5.5 export和import结合使用(了解)"></a><strong>5.5 export和import结合使用(了解)</strong></h3><p>具体见代码02_js模块化&#x2F;06_export和import结合使用</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/05/30/b33%20%E5%88%9D%E8%AF%86node.js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/30/b33%20%E5%88%9D%E8%AF%86node.js/" class="post-title-link" itemprop="url">Node.js浅尝</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-30 14:06:09" itemprop="dateCreated datePublished" datetime="2022-05-30T14:06:09+08:00">2022-05-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-07-22 21:02:00" itemprop="dateModified" datetime="2023-07-22T21:02:00+08:00">2023-07-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>726</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="初识-Node-js"><a href="#初识-Node-js" class="headerlink" title="初识 Node.js"></a>初识 Node.js</h1><h2 id="1-Node-js-是什么"><a href="#1-Node-js-是什么" class="headerlink" title="1.Node.js 是什么"></a>1.Node.js 是什么</h2><p>Node.js is an open-source, cross-platform JavaScript runtime environment.<br>Node 是一个开源的，跨平台的 js 运行环境</p>
<h2 id="2-Node-js-的应用场景"><a href="#2-Node-js-的应用场景" class="headerlink" title="2.Node.js 的应用场景"></a>2.Node.js 的应用场景</h2><p>应用一：目前前端开发的库都是以 node 包的形式进行管理<br>应用二：npm,yarn,pnpm 都是前端开发使用的很高频率的工具<br>应用三:越来越多的公司使用 node 作为 web 服务器，中间件，代理服务器<br>应用四:大量的项目需要用 node 完成前后端渲染的代码同构<br>应用五：为项目编写一些脚本工具 js<br>应用六：开发一些桌面端的应用 electron(竞品 Tauri)</p>
<h2 id="3-Node-的安装和管理"><a href="#3-Node-的安装和管理" class="headerlink" title="3. Node 的安装和管理"></a>3. Node 的安装和管理</h2><p>官网:<a target="_blank" rel="noopener" href="https://nodejs.org/en">https://nodejs.org/en</a></p>
<p>LTS:长期稳定版<br>Current:最新的包含所有最新的特性</p>
<p>学习实验选 current，实际项目开发稳定版</p>
<p>windows 选择后缀为<code>.msi</code>的安装包<br>mac 选择后缀为<code>.pkg</code>的安装包</p>
<p>如果希望多个 node 版本共存，就需要一个工具来管理 node 版本<br>nvm:Node Version Manager node 版本管理器(github)<br>n:交互式的管理你的 node 版本(mac)</p>
<p>windows:<br>nvm install latest 安装 node 最新的版本<br>nvm list 列出所有版本<br>nvm use 切换版本</p>
<p>mac:<br><code>npm install -g n</code><br>n lts 查看所有版本<br>n</p>
<h2 id="4-js-代码的执行"><a href="#4-js-代码的执行" class="headerlink" title="4. js 代码的执行"></a>4. js 代码的执行</h2><ol>
<li>放到 html 里面通过 script 标签</li>
<li>交给 node 来执行<code>node 文件名</code><br>windows 终端清屏：<code>cls</code><br>mac：<code>command+k</code></li>
</ol>
<h2 id="5-Node-的输入和输出"><a href="#5-Node-的输入和输出" class="headerlink" title="5. Node 的输入和输出"></a>5. Node 的输入和输出</h2><ol>
<li><p>Node 的 REPL<br>Read-Eval-Print-Loop 读取-求值-输出-循环，就是一个最简单的交互式编程环境<br>浏览器的 console 就是<br>进入<code>node</code><br>退出<code>.exit</code> &#x2F; <code>ctrl +c</code></p>
</li>
<li><p>给 node 传递参数<br>传递环境变量 dev&#x2F;prod&#x2F;test<br><code>node index.js env=development</code></p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// console.log(process.argv);</span></span><br><span class="line">process.<span class="property">argv</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">ele</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(ele);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(process.<span class="property">argv</span>[<span class="number">2</span>]);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>输出 console.log console.clear()<br>console.trace() 打印函数调用栈</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">bar</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">trace</span>(<span class="string">&#x27;bar的调用栈&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>();</span><br></pre></td></tr></table></figure>

<h2 id="6-Node-的全局对象"><a href="#6-Node-的全局对象" class="headerlink" title="6. Node 的全局对象"></a>6. Node 的全局对象</h2><p><a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v18.x/docs/api/globals.html">https://nodejs.org/dist/latest-v18.x/docs/api/globals.html</a></p>
<h3 id="6-1-global-对象"><a href="#6-1-global-对象" class="headerlink" title="6.1 global 对象"></a>6.1 global 对象</h3><p>相当于 node 里面的 window 对象<br>node 中 var 声明的变量不会挂载到 global 上，window 里面会<br>而且 es 新标准 推出了一个变量统一 window 和 global — <strong>globalThis</strong></p>
<h3 id="6-2-process-对象"><a href="#6-2-process-对象" class="headerlink" title="6.2 process 对象"></a>6.2 process 对象</h3><p>获取当前 node 进程中的一些信息比如 运行环境，参数</p>
<p>定时器函数…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1123</span>);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br><span class="line"><span class="comment">// setInterval(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   console.log(2222);</span></span><br><span class="line"><span class="comment">// &#125;, 1000);</span></span><br><span class="line"><span class="comment">//立即定时器</span></span><br><span class="line"><span class="title function_">setImmediate</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">333</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//异步任务队列，放到下一次tick中</span></span><br><span class="line">process.<span class="title function_">nextTick</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4444</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="6-3-特殊的全局对象"><a href="#6-3-特殊的全局对象" class="headerlink" title="6.3 特殊的全局对象"></a>6.3 特殊的全局对象</h3><p>在 node 中每个 js 文件，看作一个模块，这些对象是每个模块都有的所以是特殊的全局对象<code>__dirname</code>,<code>__filename</code>,<code>exports</code>,<code>module</code>,<code>require()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取当前文件所在路径，不包括后面的文件名</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;dir&#x27;</span>, __dirname);</span><br><span class="line"><span class="comment">//获取当前文件所在路径，包括后面的文件名</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;file&#x27;</span>, __filename);</span><br><span class="line"><span class="comment">//当前的模块信息</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">module</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//当前模块暴露的标识符</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;exports&#x27;</span>, <span class="built_in">exports</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//引入的函数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">require</span>);</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://muleandhorse.icu/2022/05/21/b32%20%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="RickyD">
      <meta itemprop="description" content="如果站长加班加似了，这个网站就是他留给世界最后的遗产">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mule and Horse">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/05/21/b32%20%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">javascript 笔记26-节流与防抖函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-05-21 14:06:09" itemprop="dateCreated datePublished" datetime="2022-05-21T14:06:09+08:00">2022-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-29 19:34:36" itemprop="dateModified" datetime="2023-05-29T19:34:36+08:00">2023-05-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>412</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="防抖与节流"><a href="#防抖与节流" class="headerlink" title="防抖与节流 "></a>防抖与节流
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2022/05/21/b32%20%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81%E5%87%BD%E6%95%B0/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="RickyD"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">RickyD</p>
  <div class="site-description" itemprop="description">如果站长加班加似了，这个网站就是他留给世界最后的遗产</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">67</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/RickyDriver" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;RickyDriver" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/1552330861@qq.com" title="E-Mail → 1552330861@qq.com"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RickyD</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">135k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">7:30</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
